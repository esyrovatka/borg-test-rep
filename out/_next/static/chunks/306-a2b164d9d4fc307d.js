(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{1306:function(e,t,s){"use strict";s.d(t,{Uv:function(){return ty},Ad:function(){return sd},Gk:function(){return sr},sL:function(){return tR},NU:function(){return tN}});var a,i,r,n,o,l,c,_,d,h,p,m,u,g,f,w,v,x,y=s(7437),b=s(6648),j=s(7138),N=s(2265),S=s(4410);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var k=function(e){return S.createElement("svg",C({width:30,height:30,fill:"none",viewBox:"0 0 30 30"},e),l||(l=S.createElement("rect",{width:30,height:30,fill:"#18191A",opacity:.8,rx:4})),c||(c=S.createElement("g",{clipPath:"url(#clip0_779_693)"},S.createElement("path",{fill:"#fff",d:"M20.098 10.076c-.382-.053-.821-.076-1.44-.076h-7.316c-.61 0-1.057.023-1.415.069-2.723.281-3.26 1.798-3.26 4.312v4.571c0 2.515.537 4.03 3.236 4.305.382.053.82.076 1.439.076h7.317c.61 0 1.057-.022 1.415-.068 2.723-.282 3.26-1.79 3.26-4.313v-4.571c0-2.514-.537-4.03-3.236-4.305m-6.65 4.305c.455 0 .82.343.82.762s-.365.762-.812.762-.813-.343-.813-.762c0-.42.357-.762.804-.762m-2.44 0c.464 0 .822.343.822.762s-.366.762-.813.762c-.448 0-.813-.343-.813-.762 0-.42.357-.762.804-.762m8.057 5.524h-8.114c-.333 0-.617-.26-.617-.572s.268-.571.601-.571h8.13c.334 0 .61.259.61.571 0 .313-.276.572-.61.572m0-4.19H16.22c-.333 0-.61-.26-.61-.572s.277-.572.61-.572h2.845c.334 0 .61.26.61.572s-.276.571-.61.571"}),S.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m15.842 6.667-.008.841a.834.834 0 0 1-.834.825h-.025a.83.83 0 0 0-.825.834c0 .458.375.833.834.833h.833"}))),_||(_=S.createElement("defs",null,S.createElement("clipPath",{id:"clip0_779_693"},S.createElement("path",{fill:"#fff",d:"M5 5h20v20H5z"})))))};function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var P=function(e){return S.createElement("svg",T({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),d||(d=S.createElement("path",{fill:"#fff",d:"M22.736 12a2.56 2.56 0 0 1-1.295 2.244L5.15 23.649a2.57 2.57 0 0 1-2.592 0 2.56 2.56 0 0 1-1.295-2.244V2.595A2.57 2.57 0 0 1 2.559.35a2.57 2.57 0 0 1 2.591 0l16.29 9.405A2.56 2.56 0 0 1 22.737 12"})))},E=s(3765),I=s(3520),L=s.n(I);let M=e=>{let{isModalOpen:t,onCloseModal:s}=e;return(0,y.jsxs)(E.u_,{isOpen:t,onClose:s,className:L().modal,children:[(0,y.jsx)(E.ZT,{weight:"seven",className:L().modal__title,children:"Please login to start playing"}),(0,y.jsx)(E.ZT,{weight:"five",color:"secondary",className:L().modal__text,children:"To start playing this game you need to login first in to your BorgGames account"}),(0,y.jsxs)(E.ZT,{weight:"five",color:"secondary",className:L().modal__register,children:["If you still don't have an account,",(0,y.jsx)("b",{className:L().modal__green,children:" Register here"})]}),(0,y.jsx)(E.KM,{variant:"primary",children:"Log in"}),(0,y.jsx)(E.zx,{variant:"clear",className:L().modal__trial,children:"Play trial version"})]})};var O=s(3976),A=s(6936),R=s.n(A);let G=e=>{let{title:t,poster_src:s,lastPlayData:a,id:i,isSelected:r}=e,n="/game/".concat(i),{isModalOpen:o,onCloseModal:l,onOpenModal:c}=(0,O.xk)();return(0,N.useEffect)(()=>{function e(e){"Enter"===e.key&&c()}return r&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r,c,o]),(0,y.jsxs)("div",{className:(0,O.AK)(R().item,{[R().selected]:r}),children:[(0,y.jsx)("div",{className:(0,O.AK)(R()["item__picture-corner"],{},[R().left])}),(0,y.jsx)("div",{className:(0,O.AK)(R()["item__picture-corner"],{},[R().right])}),(0,y.jsx)(M,{isModalOpen:o,onCloseModal:l}),(0,y.jsx)(j.default,{href:n,children:(0,y.jsx)(E.ZT,{weight:"six",className:R().item__title,children:t})}),(0,y.jsxs)(E.ZT,{weight:"five",className:R().item__info,children:["Last played",a]}),(0,y.jsx)("div",{className:R().item__picture,children:(0,y.jsx)(j.default,{href:n,children:(0,y.jsx)(b.default,{src:s,alt:"poster",width:332,height:186,className:R().item__image})})}),(0,y.jsx)(k,{className:R().item__device}),(0,y.jsx)(E.KM,{className:R().item__btn,onClick:c,children:(0,y.jsx)(P,{className:R().item__icon})})]})};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var Z=function(e){return S.createElement("svg",B({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),h||(h=S.createElement("path",{stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 8V5.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C9.52 2 10.08 2 11.2 2h7.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874C22 3.52 22 4.08 22 5.2v7.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C20.48 16 19.92 16 18.8 16H16M5.2 22h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C16 20.48 16 19.92 16 18.8v-7.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 8 13.92 8 12.8 8H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 9.52 2 10.08 2 11.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 22 4.08 22 5.2 22"})))},U=s(8665),D=s(1802),K=s.n(D);let F=()=>(0,y.jsxs)("div",{className:K().wrapper,children:[(0,y.jsx)(b.default,{className:K().wrapper__image,src:"/assets/img/bag-dynamic-color.webp",alt:"not login",width:120,height:120}),(0,y.jsx)(E.ZT,{className:K().wrapper__title,weight:"seven",children:"Looking for your games?"}),(0,y.jsx)(E.ZT,{className:K().wrapper__text,color:"light",weight:"five",children:"Login with Microsoft account to see games on your PCs"})]});var q=s(277),H=s.n(q);let z=e=>{let{list:t}=e;return(0,y.jsx)("div",{className:H().wrapper,children:t.map(e=>(0,y.jsx)(tn,{title:e.title||e.Title||"My Game Title",poster_src:e.poster_src||"/assets/img/default_game.webp",id:e.id,availableDevice:e.availableDevice,status:e.Support},"my-games-list-".concat(e.Uri)))})};var W=s(8713),J=s.n(W);let V=e=>{let{withText:t=!0}=e;return(0,y.jsxs)("div",{className:J().loader,children:[(0,y.jsx)("div",{className:(0,O.AK)(J().loader__square,{[J().isFirst]:!0})}),t&&(0,y.jsx)(E.ZT,{weight:"six",color:"secondary",className:J().loader__text,children:"Please wait, we downloading your list of the games ..."})]})};var X=s(6463),Y=s(1120),Q=s.n(Y);let $=()=>{let e=(0,X.useRouter)();return(0,y.jsxs)("div",{className:Q().wrapper,children:[(0,y.jsx)(b.default,{className:Q().wrapper__image,src:"/assets/img/my_games_not_loged_in.webp",alt:"not login",width:120,height:120}),(0,y.jsx)(E.ZT,{className:Q().wrapper__title,weight:"seven",children:"Looking for your games?"}),(0,y.jsx)(E.ZT,{className:Q().wrapper__text,color:"light",weight:"five",children:"To start playing, please, download and setup our Microsoft application that will help you to play games installed on your computer"}),(0,y.jsx)(E.KM,{variant:"primary",onClick:()=>e.push("/setup"),children:"Download desktop app"})]})};var ee=s(5170),et=s(4363),es=s.n(et);let ea=()=>{let e=(0,O.TL)();return(0,y.jsxs)("div",{className:es().wrapper,children:[(0,y.jsx)(b.default,{className:es().wrapper__image,src:"/assets/img/my_games_not_loged_in.webp",alt:"not login",width:120,height:120}),(0,y.jsx)(E.ZT,{className:es().wrapper__title,weight:"seven",children:"Seems like you don't have any games in your library yet"}),(0,y.jsx)(E.ZT,{className:es().wrapper__text,color:"light",weight:"five",children:"Install the game you would like to play on your device and make sure it appears in our desktop application Borg"}),(0,y.jsx)(E.KM,{variant:"primary",onClick:()=>e(ee.tm.onOpenLoginModal()),children:"Log in"})]})};var ei=s(3580),er=s(2126),en=s(357);let eo=async(e,t)=>{let s="".concat(en.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/"),a=e.pathname.split("/").slice(1),i={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};if(0===a.length)throw Error("Invalid game path");let r=a[0];if(1===a.length)"minecraft"===r?r="Minecraft":"factorio"===r&&(r="Factorio");else switch(r){case"gog":case"GOG":r="GOG/".concat(a[1]);break;default:throw Error("Invalid game path")}let n=JSON.stringify({folder:{}}),o="special/approot:/Games/".concat(r),l="";try{let{data:e}=await er.Z.put("".concat(s).concat(o),n,i);l=e.id}catch(e){if(409===e.response.status){let{data:e}=await er.Z.get("".concat(s).concat(o),i);l=e.id}}return l};var el=s(357);async function ec(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:el.env.NEXT_PUBLIC_BORG_URL||"",a="".concat(s,"offers"),i=new URLSearchParams;e&&(e.verMin&&i.append("verMin",e.verMin),e.verMax&&i.append("verMax",e.verMax),e.features&&i.append("features",e.features.join(",")));let r=i.toString();r&&(a+="?".concat(r));try{let{data:e}=await er.Z.get(a,t?{headers:{Secret:t}}:{});return e}catch(e){return console.error("Error fetching nodes:",e),[]}}async function e_(){let e=await fetch("".concat("https://borg-ephemeral.azurewebsites.net/cors/minecraft/","login"),{method:"POST"});return{code:await e.text(),location:e.headers.get("Location")}}let ed=async e=>{let t="".concat("https://borg-ephemeral.azurewebsites.net/cors/minecraft/","await/").concat(encodeURIComponent(e)),s=await fetch(t,{method:"POST"});if(!s.ok){let e="";try{e=await s.text()}catch(e){throw Error()}if(401===s.status&&e)throw Error(e);throw e&&(e="\r\n".concat(e)),Error("HTTP ".concat(s.status,": ").concat(s.statusText," ").concat(e))}let a=await s.json(),i=await (0,O.$f)("".concat("special/approot:/Games/Minecraft/cml-creds.json",":/content"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok)throw Error("Failed to save MC account: HTTP ".concat(i.status,": ").concat(i.statusText))},eh=async()=>{let e=await (0,O.LR)("special/approot:/Games/Minecraft/cml-creds.json");return null===e?null:await e.json()};var ep=s(1887);let em="gog-tokens",eu="special/approot:/Stores/gog-tokens.json";async function eg(){let e=await (0,O.$f)("".concat(eu,":/content"),{method:"PUT",headers:{"Content-Type":"application/json"},body:localStorage.getItem(em)});if(!e.ok)throw Error("Failed to save GOG account: HTTP ".concat(e.status,": ").concat(e.statusText))}async function ef(){let e=JSON.parse(localStorage.getItem(em));if(null===e){let t=await (0,O.LR)(eu);if(null===t)return null;e=await t.json()}try{let t=await fetch("".concat("https://borg-ephemeral.azurewebsites.net/cors/gog/","refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e="";try{e=await t.text()}catch(e){console.log(e)}if(401===t.status&&e)throw Error(e);throw e&&(e="\r\n".concat(e)),Error("HTTP ".concat(t.status,": ").concat(t.statusText," ").concat(e))}e=await t.json()}catch(e){console.error("error refreshing token",e)}localStorage.setItem("gog-tokens",JSON.stringify(e));try{await eg()}catch(e){console.error("error saving tokens",e)}return e.access_token}let ew=null;async function ev(e){let t=JSON.parse(atob(e.LicensesUtf8)),s=await (0,O.$f)("special/approot:/Games/Steam.json:/content",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return s.ok?ew=e:console.warn("Failed to save Steam login: ",s.status,s.statusText),localStorage.removeItem("STEAM_LICENSES"),t}async function ex(){let e=localStorage.getItem("token");if(null===ew){if(!e)return null;let t=await (0,O.LR)("special/approot:/Games/Steam.json");if(null===t){let e=localStorage.getItem("STEAM_LICENSES");return e?(ew=JSON.parse(e),await ev(ew),ew):null}try{ew=await t.json()}catch(e){return console.error("corrupted Steam license list file Games/Steam.json",e),null}}return ew}function ey(e,t,s,a){let i=a?s.bind(a):s;return e.addEventListener(t,i),{obj:e,name:t,func:i}}function eb(e){for(let t of e)t.obj.removeEventListener(t.name,t.func)}function ej(e){return new Promise(t=>{setTimeout(t,e)})}Array.prototype.removeByValue=function(e){let t=this.indexOf(e);return -1!==t&&(this.splice(t,1),!0)};class eN{async connect(e,t,s,a){this.onCandidate=a,this.sessionId=t,this.answer=s,await this.submitAnswer(),this.fetchCandidates().then(()=>console.debug("candidates fetch stopped"))}async submitAnswer(){let e=this.makeHeaders();if(!(await fetch("".concat(this.endpoint+this.sessionId,"/answer"),{method:"PUT",headers:e,body:JSON.stringify(this.answer)})).ok)throw Error("Failed to submit answer")}async sendCandidate(e){let t=this.makeHeaders();if(!(await fetch("".concat(this.endpoint+this.sessionId,"/answerIce"),{method:"PUT",headers:t,body:e})).ok)throw Error("Failed to submit ICE candidate")}async fetchCandidates(){let e=new Set,t={};for(this.secret&&(t.headers={Secret:this.secret});0===this.stopCode;){console.log("get",this.endpoint+this.sessionId);let s=await fetch(this.endpoint+this.sessionId,t);if(!s.ok)return;let a=await s.json(),i=!1;for(let t of a.offerIce){await this.onCandidate(t,null),e.add(t);let s=JSON.parse(t);s&&!s.candidate&&(i=!0)}if(i)return;await ej(1e3)}}cfgDefaults(e){return e||(e={}),structuredClone(e)}getAttemptId(){return console.warn("getAttemptId stub"),"41"}makeHeaders(){let e={"Content-Type":"text/plain"};return this.secret&&(e.Secret=this.secret),e}close(e){this.stopCode=e}constructor(e,t){this.endpoint=e||"https://borg-ephemeral.azurewebsites.net/ephemeral/",t&&(this.secret=t),this.stopCode=0}}(a=p||(p={}))[a.PeerGone=99]="PeerGone",a[a.Declined=8]="Declined",(i=m||(m={}))[i.Kb=0]="Kb",i[i.Mouse=1]="Mouse",i[i.MouseWheel=2]="MouseWheel",i[i.Motion=3]="Motion",i[i.Button=4]="Button",i[i.Axis=5]="Axis",i[i.Unplug=6]="Unplug",i[i.Config=8]="Config",i[i.Cursor=9]="Cursor",i[i.Abort=10]="Abort",i[i.Init=11]="Init",i[i.Reinit=13]="Reinit",i[i.Shutter=16]="Shutter",i[i.Chat=17]="Chat",i[i.Status=18]="Status",i[i.Block=19]="Block",i[i.Ping=20]="Ping",i[i.Launch=21]="Launch";let eS={0:0,1:1,2:2,3:3,4:9,5:10,8:4,9:6,10:7,11:8,12:11,13:12,14:13,15:14};(r=u||(u={}))[r.UpdateWarp=1]="UpdateWarp",r[r.UpdateImage=2]="UpdateImage",r[r.UpdateMode=4]="UpdateMode",r[r.IsRelative=256]="IsRelative",r[r.IsHidden=512]="IsHidden",r[r.IsTransparent=1024]="IsTransparent";let eC={KeyA:4,KeyB:5,KeyC:6,KeyD:7,KeyE:8,KeyF:9,KeyG:10,KeyH:11,KeyI:12,KeyJ:13,KeyK:14,KeyL:15,KeyM:16,KeyN:17,KeyO:18,KeyP:19,KeyQ:20,KeyR:21,KeyS:22,KeyT:23,KeyU:24,KeyV:25,KeyW:26,KeyX:27,KeyY:28,KeyZ:29,Digit1:30,Digit2:31,Digit3:32,Digit4:33,Digit5:34,Digit6:35,Digit7:36,Digit8:37,Digit9:38,Digit0:39,Enter:40,Escape:41,Backspace:42,Tab:43,Space:44,Minus:45,Equal:46,BracketLeft:47,BracketRight:48,Backslash:49,Semicolon:51,Quote:52,Backquote:53,Comma:54,Period:55,Slash:56,CapsLock:57,F1:58,F2:59,F3:60,F4:61,F5:62,F6:63,F7:64,F8:65,F9:66,F10:67,F11:68,F12:69,PrintScreen:70,ScrollLock:71,Pause:72,Insert:73,Home:74,PageUp:75,Delete:76,End:77,PageDown:78,ArrowRight:79,ArrowLeft:80,ArrowDown:81,ArrowUp:82,NumLock:83,NumpadDivide:84,NumpadMultiply:85,NumpadEnter:86,NumpadPlus:87,NumpadMinus:88,Numpad1:89,Numpad2:90,Numpad3:91,Numpad4:92,Numpad5:93,Numpad6:94,Numpad7:95,Numpad8:96,Numpad9:97,Numpad0:98,NumpadPeriod:99,ContextMenu:101,ControlLeft:224,ShiftLeft:225,AltLeft:226,MetaLeft:227,ControlRight:228,ShiftRight:229,AltRight:230,MetaRight:231};function ek(e,t,s,a,i){let r=new DataView(e);r.setInt8(0,t),r.setInt32(1,s),r.setInt32(5,a),r.setInt32(9,i)}function eT(e,t,s,a){let i=new ArrayBuffer(13);return ek(i,e,t,s,a),i}function eP(e,t,s){return eT(m.Motion,Number(e),t,s)}function eE(e,t){return eT(m.Mouse,e,Number(t),0)}function eI(e,t,s){return eT(m.Kb,e,t,Number(s))}function eL(){return eT(m.Reinit,0,0,0)}function eM(e){return function(e,t){let s=new ArrayBuffer(13+t.length+1);return ek(s,e,t.length+1,0,0),!function(e,t,s){let a=new TextEncoder().encode(s),i=new Int8Array(e,13);for(let e=0;e<s.length;e+=1)i[e]=a[e]}(s,0,t),s}(m.Config,JSON.stringify(e,null,0))}function eO(e){let t=new DataView(e),s={type:t.getInt8(0),data0:t.getInt32(1),data1:t.getInt32(5),data2:t.getInt32(9)};switch(s.type){case m.Cursor:return{...s,...function(e){let t=e.getInt32(13),s=e.getInt16(29),a=new Uint8Array(e.buffer,31,t-1);return{w:e.getInt16(17),h:e.getInt16(19),x:e.getInt16(21),y:e.getInt16(23),hotX:e.getInt16(25),hotY:e.getInt16(27),relative:!!(s&&u.IsRelative),hidden:!!(s&&u.IsHidden),data:s&&u.UpdateImage?btoa(String.fromCharCode(...Array.from(a))):null}}(t)};case m.Status:case m.Chat:return{...s,str:function(e,t,s){let a=new TextDecoder,i=new Int8Array(e,13,s);return a.decode(i)}(e,0,s.data0-1)};default:return s}}class eA{_poll(){let e=navigator.getGamepads();for(let t=0;t<4;t++)if(e[t]){let s=this.state[t];s||(s=this.state[t]={axes:[],buttons:[]});for(let a=0;a<e[t].buttons.length;a++){let{value:i}=e[t].buttons[a];void 0!==s.buttons[a]&&s.buttons[a]!==i&&this.onButton(t,a,i),s.buttons[a]=i}for(let a=0;a<e[t].axes.length;a++){let i=e[t].axes[a];.05>Math.abs(i)&&(i=0),void 0!==s.axes[a]&&s.axes[a]!==i&&this.onAxis(t,a,i),s.axes[a]=i}}else this.state[t]&&(delete this.state[t],this.onDisconnect(t))}destroy(){clearInterval(this.interval)}constructor(e,t,s){this.onButton=e,this.onAxis=t,this.onDisconnect=s,this.state={},this.interval=setInterval(()=>{this._poll()},20)}}function eR(e,t){let s=Math.round((e-t.mouseOffsetX)*t.mouseMultiX);return s===t.frameW-1&&(s=t.frameW),s>t.frameW&&(s=t.frameW),s<0&&(s=0),s}function eG(e,t){let s=Math.round((e-t.mouseOffsetY)*t.mouseMultiY);return s===t.frameH-1&&(s=t.frameH),s>t.frameH&&(s=t.frameH),s<0&&(s=0),s}function eB(e){return e>0?32767*e:32768*e}class eZ{_mouseMovement(e){if(!this.m)return;let t=!1,s=0,a=0;if(document.pointerLockElement){if(t=!0,s=e.movementX,a=e.movementY,0===s&&0===a)return}else s=eR(e.offsetX,this.m),a=eG(e.offsetY,this.m);this.send(eP(t,s,a))}_mouseButton(e){let t="mousedown"===e.type,s=0,a=e.target;if(!document.pointerLockElement&&this.mouseRelative&&a.requestPointerLock(),t&&0===e.button&&e.ctrlKey&&e.shiftKey)return a.requestPointerLock();switch(e.button){case 0:s=1;break;case 1:s=2;break;case 2:s=3;break;case 3:s=4;break;case 4:s=5}this.send(eE(s,t))}_touch(e){let t="touchstart"===e.type,s=e.changedTouches[0],a=eR(s.clientX,this.m),i=eG(s.clientY,this.m);this.send(eP(!1,a,i)),this.send(eE(1,t))}_key(e){if(e.preventDefault(),!this.keyFilter(e)||"F5"===e.code&&e.ctrlKey||"KeyI"===e.code&&e.ctrlKey&&e.shiftKey||"F11"===e.code)return;let t=eC[e.code];if(t){let s=0;e.getModifierState("NumLock")&&(s|=4096),e.getModifierState("CapsLock")&&(s|=8192),this.send(eI(t,s,"keydown"===e.type))}}_mouseWheel(e){var t,s,a;e.preventDefault(),this.send((t=e.deltaX,s=e.deltaY,a=e.deltaZ,eT(m.MouseWheel,t,s,a)))}_contextMenu(e){e.preventDefault()}_button(e,t,s){var a,i;if(6===t||7===t)this.send((a=t-2,i=eB(s),eT(m.Axis,a,i,e)));else{let a=eS[t];void 0!==a&&this.send(eT(m.Button,a,s,e))}}_axis(e,t,s){var a;this.send((a=eB(s),eT(m.Axis,t,a,e)))}_unplug(e){this.send(eT(m.Unplug,0,0,e))}_pointerLock(){document.pointerLockElement||this.blockNextEsc||(this.send(eI(41,0,!0)),this.send(eI(41,0,!1))),this.blockNextEsc=!1}_exitPointerLock(){document.pointerLockElement&&(this.blockNextEsc=!0,document.exitPointerLock())}_windowMath(){let e=this.element.offsetWidth,t=this.element.offsetHeight,s=this.element.videoWidth,a=this.element.videoHeight,i=Math.min(e/s,t/a),r=s*i,n=a*i;this.m={mouseMultiX:s/r,mouseMultiY:a/n,mouseOffsetX:Math.max((e-r)/2,0),mouseOffsetY:Math.max((t-n)/2,0),frameW:s,frameH:a}}_setCursorVisibility(e){this.element.style.cursor=e?"":"none"}_clearCursors(){let e=document.querySelector("head");for(let t of this.styles)e.removeChild(t);this.cursorClass&&this.element.classList.remove(this.cursorClass)}setMouseMode(e,t){this._setCursorVisibility(!t),this.mouseRelative=e,console.info("mouse mode",e?"relative":"absolute","visible: ",!t),this.mouseRelative?function(e){e.requestPointerLock()}(this.element):this._exitPointerLock()}setCursor(e,t,s){if(!this.cache[e]){this.cache[e]="cursor-x-".concat(this.cursorId);let a=document.createElement("style");a.type="text/css",a.innerHTML=".cursor-x-".concat(this.cursorId+1," {cursor: url(data:image/png;base64,").concat(e,") ").concat(t," ").concat(s,", auto;}"),document.querySelector("head").appendChild(a),this.styles.push(a)}this.cursorClass?this.element.classList.replace(this.cursorClass,this.cache[e]):this.element.classList.add(this.cache[e]),this.cursorClass=this.cache[e]}attach(){this.gamepad=new eA(this._button.bind(this),this._axis.bind(this),this._unplug.bind(this)),this.listeners.push(ey(this.element,"resize",this._windowMath,this)),this.listeners.push(ey(this.element,"mousemove",this._mouseMovement,this)),this.listeners.push(ey(this.element,"mousedown",this._mouseButton,this)),this.listeners.push(ey(this.element,"mouseup",this._mouseButton,this)),this.listeners.push(ey(this.element,"touchstart",this._touch,this)),this.listeners.push(ey(this.element,"touchend",this._touch,this)),this.listeners.push(ey(this.element,"wheel",this._mouseWheel,this)),this.listeners.push(ey(this.element,"contextmenu",this._contextMenu,this)),this.listeners.push(ey(document,"pointerlockchange",this._pointerLock,this)),this.listeners.push(ey(window,"keydown",this._key,this)),this.listeners.push(ey(window,"keyup",this._key,this)),this.listeners.push(ey(window,"resize",this._windowMath,this))}detach(){eb(this.listeners),this._setCursorVisibility(!0),this._exitPointerLock(),this._clearCursors(),this.gamepad&&this.gamepad.destroy()}constructor(e,t){this.keyFilter=()=>!0,this.send=t,this.element=e,this.gamepad=null,this.cursorClass=null,this.mouseRelative=!1,this.blockNextEsc=!1,this.listeners=[],this.cache={},this.styles=[],this.cursorId=0,this._windowMath()}}class eU{close(){Object.values(this.channels).forEach(e=>e.close()),this.rtc.close()}addChannel(e,t,s,a){console.log("start");let i=this.rtc.createDataChannel(e,{id:t});i.binaryType="arraybuffer",i.onopen=s,i.onmessage=a,this.channels[t]=i,console.log("end")}setChannel(e,t){t.binaryType="arraybuffer",this.channels[e]=t}async createAnswer(){return await this.rtc.setRemoteDescription(this.serverOffer),this.offer=await this.rtc.createAnswer(),this.offer}send(e,t){this.channels[t].send(e)}async setRemoteCandidate(e){if(!this.started){try{if(!this.offer)throw Error("offer is null");await this.rtc.setLocalDescription(this.offer),console.log("setLocalDescription",this.offer)}catch(e){console.error("setLocalDescription failed",e)}this.started=Promise.resolve()}await this.started;let t=JSON.parse(e);await this.rtc.addIceCandidate(t)}constructor(e){let{serverOffer:t,attemptId:s,onCandidate:a,iceServers:i=[],certificates:r=[]}=e;this.onCandidate=a,this.attemptId=s,this.serverOffer=t,this.started=null,this.sdp=null,this.channels={},this.offer=null,this.rtc=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stunserver.org:3478"},...i],certificates:r}),this.rtc.onicecandidate=e=>{let{candidate:t}=e.candidate||{};if(t){var s;console.info("candidate",e.candidate),(null===(s=t.replace("candidate:","").split(" ")[2])||void 0===s?void 0:s.toLowerCase())==="udp"?this.onCandidate(JSON.stringify(e.candidate)):console.warn("ignoring non-udp candidate",t)}else console.info("no more ICE candidates")}}}class eD{_submit(){if(this.queue.length>0&&this.videoSource&&!this.videoSource.updating)try{let e=this.queue.shift();this.videoSource.appendBuffer(e)}catch(e){console.warn(e),this.destroy(),this.onFatal()}}_init(){this.mediaSource=new MediaSource,this.element.src=URL.createObjectURL(this.mediaSource),this.element.load(),this.listeners.push(ey(this.element,"error",()=>{console.error(this.element.error.message)})),this.listeners.push(ey(this.mediaSource,"sourceopen",()=>{this.videoSource=this.mediaSource.addSourceBuffer('video/mp4; codecs="avc1.64001e"'),this.listeners.push(ey(this.videoSource,"update",this._submit,this)),this.element.play()}))}_reinit(){this.destroy(),this._init()}destroy(){this.waitingForKeyFrame=!0,eb(this.listeners),this.listeners=[],this.mediaSource&&(this.videoSource&&(this.mediaSource.removeSourceBuffer(this.videoSource),this.videoSource=null),this.mediaSource.endOfStream(),URL.revokeObjectURL(this.element.src),this.mediaSource=null)}push(e){let t=new Uint8Array(e);102===t[4]&&(this._reinit(),this.waitingForKeyFrame=!1),this.waitingForKeyFrame||(this.queue.push(t),this._submit())}constructor(e,t){this.element=e,this.onFatal=t,this.videoSource=null,this.mediaSource=null,this.waitingForKeyFrame=!0,this.listeners=[],this.queue=[]}}var eK=e=>{if(e||(e={}),e.network_video_container=2,e.app_ss_endpoint||(e.app_ss_endpoint="borg.games"),e.app_ss_port||(e.app_ss_port=443),!e.server_resolution_x&&!e.server_resolution_y){let t=window.screen.width,s=window.screen.height;e.server_resolution_x=1920,e.server_resolution_y=1080,t>=800&&s>=600&&t<=1920&&s<=1080&&(e.server_resolution_x=t,e.server_resolution_y=s)}return e},eF=e=>/m=video\s+0\s+/.test(e);(n=g||(g={}))[n.CONNECTION_TIMEOUT=4080]="CONNECTION_TIMEOUT",n[n.CONCURRENT_SESSION=4090]="CONCURRENT_SESSION",n[n.GENERAL_ERROR=4500]="GENERAL_ERROR";class eq{connectionUpdate(e){console.warn(e)}}class eH{_dispatchEvent(e){let t=eO(e);switch(t.type){case m.Cursor:this.input.setMouseMode(t.relative,t.hidden),t.data&&this.input.setCursor(t.data,t.hotX,t.hotY);break;case m.Abort:console.log("Server Abort",t.data0),this.destroy(t.data0);break;case m.Shutter:this.onEvent({type:"shutter",enabled:!!t.data0});break;case m.Status:this.onEvent({type:"status",msg:t});break;case m.Chat:this.onEvent({type:"chat",msg:t})}}async connect(e,t,s){let a;s=eK(s),s=this.signal.cfgDefaults(s);let i=async()=>{this._status("connected\n\nwaiting for reply...");let e=this.rtc.channels[0];try{a=await this.channelOpen("control",e)}catch(e){this.connectedReject(e)}this.exited()||(this._status("waiting for video..."),e.onmessage=e=>{this._dispatchEvent(e.data)},this.isConnected=!0,this.connectedResolve(a),this.paused=!1,this.listeners.push(ey(document,"visibilitychange",()=>{document.hidden?(this.video.pause(),this.paused=!0,this.rtc.send(eT(m.Block,0,0,0),0)):(this.video.play(),this.paused=!1,this.rtc.send(eL(),0)),this.onEvent({type:"pause",msg:{str:this.paused.toString()}})})),this.rtc.send(eM(s),0),this.rtc.send(eT(m.Init,0,0,0),0),this.pingInterval=setInterval(()=>{this._ping()},1e3),this._setReinitTimeout(),this.listeners.push(ey(this.video,"timeupdate",()=>{this.onEvent({type:"frame"}),clearTimeout(this._reinitTimeout),this._setReinitTimeout()})),this.stream&&(this.video.srcObject=this.stream,this.video.play()),this.input.attach(),this.onEvent({type:"connect"}))},r=await RTCPeerConnection.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}),n={serverOffer:t,attemptId:this.signal.getAttemptId(),onCandidate:e=>{this.signal.sendCandidate(e)},iceServers:this.iceServers,certificates:[r]};this.rtc=new eU(n),this.rtc.rtc.addEventListener("datachannel",e=>{let{channel:t}=e;switch(console.log("datachannel",t.label,t.id,t.readyState),t.label){case"control":this.rtc.setChannel(0,t),i();break;case"persistence":this.channelOpen("persistence",t);break;default:console.error("Unknown datachannel",t.label)}}),this.rtc.rtc.ontrack=e=>{if("video"!==e.track.kind)return;let[t]=e.streams;this.stream=t,this.stream.addEventListener("removetrack",e=>{console.debug("removetrack",e)})},this.configureRTC&&(this.configureRTC(this.rtc.rtc),this.rtc.configureRTC=this.configureRTC);let o=await this.rtc.createAnswer();if(eF(o.sdp))throw Error("Browser does not support necessary video codec");this._status("connecting..."),this.signal.connect(s,e,o,e=>{this.rtc.setRemoteCandidate(e)}),await this.connected}setConfig(e){this.isConnected&&this.rtc.send(eM(e),0)}_setReinitTimeout(){this._reinitTimeout=setTimeout(()=>{this.exited()||this.paused||(this.onEvent({type:"stall"}),console.debug("timeupdate stalled"),this.rtc.send(eL(),0),this._setReinitTimeout())},this.stallTimeout)}async _ping(){let e=this.rtc.channels[0],t=Math.floor(1610612736*Math.random()),s=performance.now(),a=!1,i=new Promise((i,r)=>{function n(a){let o=performance.now();if(o-s>3e4){e.removeEventListener("message",n),r("timeout");return}let l=eO(a.data);l.type===m.Ping&&l.data0===t&&(e.removeEventListener("message",n),i(o))}e.addEventListener("message",n),setTimeout((s,i)=>{e.removeEventListener("message",n),a||(console.error("ping timeout ".concat(t)),i("timeout"))},3e4)});this.rtc.send(eT(m.Ping,t,0,0),0);try{let e=await i;a=!0;let t=e-s;this.pingLast=t,(null===this.pingMax||t>this.pingMax)&&(this.pingMax=t);let r=t>220?ep.ph.POOR:ep.ph.OK;this.dispatch(ep.UB.onChangeConnection(r))}catch(e){if("timeout"===e)return;throw e}}exited(){return Object.prototype.hasOwnProperty.call(this,"exitCode")}_status(e){console.log("status:",e),this.onEvent({type:"status",msg:{str:e||"test"}})}destroy(e){var t;this.exited()&&console.warn("exit reentry ".concat(e," after ").concat(this.exitCode)),this.exitCode=e,eb(this.listeners),this.signal.close(e>=3e3&&e<5e3?e:1e3),e!==eH.StopCodes.CONCURRENT_SESSION&&this.video.pause(),this.videoPlayer.destroy(),this.input.detach(),null!==this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null),this.isConnected&&(clearInterval(this.logInterval),this.rtc.send(eT(m.Abort,e,0,0),0)),this.api.connectionUpdate({state_str:"LSC_EXIT",attempt_id:this.signal.getAttemptId(),exit_code:e}),null===(t=this.rtc)||void 0===t||t.close(),this.isConnected=!1,this.onEvent({type:"exit",code:e})}constructor(e,t,s,a,i,r){for(let n of(this.dispatch=r,this.api=e,this.onEvent=a,this.channelOpen=i,this.isConnected=!1,this.connected=new Promise((e,t)=>{this.connectedResolve=e,this.connectedReject=t}),this.rtc=null,this.pingInterval=null,this.listeners=[],this.pingMax=null,this.pingLast=null,this.iceServers=[],this.video=s,this.element=s,this.paused=!1,this.stallTimeout=1e3,this.videoPlayer=new eD(this.video,()=>{this.rtc.send(eL(),0)}),this.signal=t(e=>{this.destroy(4001===e?p.PeerGone:e)}),this.input=new eZ(this.video,e=>{this.isConnected&&this.rtc.send(e,0)}),this.listeners.push(ey(window,"beforeunload",()=>(this.destroy(0),null))),this.listeners.push(ey(this.video,"playing",()=>{this._status("")})),["abort","ended","stalled","suspend","waiting"]))this.listeners.push(ey(this.video,n,()=>{!this.exited()&&this.isConnected&&this.rtc.send(eL(),0),this._status("video ".concat(n))}));this.listeners.push(ey(this.video,"error",()=>{!this.exited()&&this.isConnected&&this.rtc.send(eL(),0),this._status("video error: ".concat(this.video.error.message))}))}}async function ez(e){let t=new TextDecoder,s=new Promise((s,a)=>{let i=0;e.addEventListener("message",function r(n){if(4!==n.data.byteLength||"ping"!==t.decode(n.data)){a("bad echo");return}4==++i&&(e.removeEventListener("message",r),s())})});for(let t=0;t<4;t++)e.send("ping");await s;let a={roundtrip_times:[]};for(let s=0;s<10;s++){let s=Math.random().toString(36).substring(2,6),i=new Promise((a,i)=>{function r(n){let o=performance.now();e.removeEventListener("message",r),n.data.byteLength===s.length||t.decode(n.data)===s?a(o):i("bad echo")}e.addEventListener("message",r)}),r=performance.now();e.send(s);let n=await i-r;a.roundtrip_times.push(n)}return a}eH.StopCodes=g;class eW{_refreshBuffer(){let e=this.ctx.createBuffer(2,1920,48e3);this.left=e.getChannelData(0),this.right=e.getChannelData(1),this.bufSource=this.ctx.createBufferSource(),this.bufSource.buffer=e,this.bufSource.connect(this.ctx.destination),this.offset=0}queueData(e){if(!this.ready||this.nextTime-this.ctx.currentTime>.2)return;this.encodeU8.set(new Uint8Array(e));let t=this.opus.ccall("decode","number",["number"],[e.byteLength]);for(let e=0;e<2*t;e+=2)this.left[this.offset]=this.decodeF32[e],this.right[this.offset]=this.decodeF32[e+1],this.offset++;1920===this.offset&&(this.nextTime<this.ctx.currentTime&&(this.nextTime=this.ctx.currentTime+.07),this.bufSource.start(this.nextTime),this.nextTime+=this.bufSource.buffer.duration,this._refreshBuffer())}destroy(){this.opus.ccall("cleanup")}constructor(){this.ctx=new(window.AudioContext||window.webkitAudioContext),this.nextTime=this.ctx.currentTime,this.offset=0,this.bufSource=null,this.left=null,this.right=null,this.encodeU8=null,this.decodeF32=null,this.opus=null,this.ready=!1,this._refreshBuffer(),this.opus=opusModule({onRuntimeInitialized:()=>{this.opus.ccall("init","number");let e=this.opus.ccall("encode_buf","number"),t=this.opus.ccall("decode_buf","number");this.encodeU8=new Uint8Array(this.opus.HEAPU8.buffer,e),this.decodeF32=new Float32Array(this.opus.HEAPF32.buffer,t),this.ready=!0},locateFile:()=>eW.OPUS_WASM})}}eW.OPUS_WASM="/wasm/opus.wasm",eW.OPUS_WASM="/js/streaming-client/built/wasm/opus.wasm";class eJ{static async waitForCommandRequest(e){return new Promise((t,s)=>{e.addEventListener("message",function a(i){if(e.removeEventListener("message",a),1!==i.data.byteLength)try{let e=eO(i.data);switch(e.type){case m.Status:case m.Chat:s(e.str);break;default:throw Error("unexpected")}}catch(t){let e=new Int8Array(i.data);s("unexpected: ".concat(new TextDecoder().decode(e)))}else{let e=new Uint8Array(i.data)[0];42===e?t():s({msg:"unexpected",data:e})}})})}}async function eV(e,t,s){let a=document.createElement("div");a.className="notification",a.textContent=e,null==s||s.appendChild(a),a.addEventListener("click",()=>{a.classList.remove("show")}),await ej(1),a.classList.add("show"),t&&(await ej(t),a.classList.remove("show"),await ej(1e3),a.remove())}function eX(e,t,s){e.send(JSON.stringify({status:t,body:btoa(s)}))}let eY=(e,t)=>eX(e,403,t),eQ=(e,t)=>eX(e,401,t),e$=(e,t)=>eX(e,400,t);function e0(e){return btoa(Array.from(new TextEncoder().encode(e),e=>String.fromCodePoint(e)).join(""))}let e1=e=>decodeURIComponent(e);async function e2(e){return JSON.parse(await e.text())}async function e3(e){let t=await fetch("data:application/octet-stream;base64,".concat(e));return await t.arrayBuffer()}let e5=e=>e&&e.startsWith("application/json"),e8=async(e,t,s,a,i)=>{try{let a=JSON.parse(e.peer_connection_offer),i=JSON.parse(a.Offer),r=parseInt(localStorage.getItem("encoder_bitrate"),10)||1;await Promise.race([t,s.connect(e.session_id,i,{encoder_bitrate:r})])}catch(e){a.removeByValue(s)&&0===a.length&&i(e)}};var e4=(e,t,s,a,i,r)=>{let n=new eq,o=document.getElementById("stream");o.controls=!1;let l=document.getElementById("video-resume"),c=document.getElementById("notifications"),_=!!localStorage.getItem("token"),d=e=>new eN;return new Promise(h=>{let p=[];for(let m=0;m<e.length;m+=1){let u=e[m],g=0,f=0,w=new eH(n,d,i,e=>{var t,s;switch(e.type){case"exit":e.code!==eH.StopCodes.CONCURRENT_SESSION?h(e.code):p.removeByValue(w);break;case"stall":if(0!==g)break;g=setTimeout(()=>{w.exited()||w.destroy(eH.StopCodes.CONNECTION_TIMEOUT)},3e4),f=setTimeout(()=>{w.exited()||(f=0)}),console.debug("stall started: ",g);break;case"frame":0!==g&&(console.debug("stall cleared: ".concat(g)),clearTimeout(g),g=0),0!==f&&(console.debug("stall reset cleared: ".concat(f)),clearTimeout(f),f=0);break;case"status":if(w.exitCode===eH.StopCodes.CONCURRENT_SESSION)break;r(ep.UB.changeStatus(e.msg.str)),l.style.display="video suspend"===e.msg.str?"inline-block":"none","video suspend"===e.msg.str&&(i.autoplay=!1);break;case"chat":eV(null===(t=e.msg)||void 0===t?void 0:t.str,3e4,c);break;default:eV(null===(s=e.msg)||void 0===s?void 0:s.str,3e4,c)}},async(e,a)=>{switch(e){case"control":try{if(await eJ.waitForCommandRequest(a),w.exited()||(await ez(a),w.exited())||(await eJ.waitForCommandRequest(a),w.exited())||(function(e){for(let t=0;t<p.length;t+=1)p[t]!==e&&p[t].destroy(eH.StopCodes.CONCURRENT_SESSION);p.length=1,p[0]=e}(w),w.exited()))break;let e=_?await ex():void 0,t=_?await eh():void 0,i=_?await ef():void 0,r={Launch:"borg:games/".concat(s.game),SteamLicenses:e,GogToken:i,Cml:t};a.send("\x15".concat(JSON.stringify(r))),await eJ.waitForCommandRequest(a)}catch(e){console.error("Error occurred during control channel processing:",e)}break;case"persistence":try{_&&t?(!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=new Set;function a(e){let t=e1(e);s.add(t)}function i(e){let t=e1(e);return s.has(t)}async function r(e,t){e&&console.error("Unexpected location",e);try{if(null===t)return;let e=await e2(t);if("id"in e&&a(e.id),"resourceId"in e&&a(e.resourceId),"value"in e)for(let t of e.value)"id"in t&&a(t.id)}catch(e){console.warn("Failed to parse response",e)}}async function n(e){let t=e.target,s=JSON.parse(e.data);try{var a,n,o,l;let e;(null===(a=s.options)||void 0===a?void 0:a.body)&&(s.options.body=await e3(s.options.body));let c=null!==(l=null===(o=s.options)||void 0===o?void 0:null===(n=o.method)||void 0===n?void 0:n.trim().toUpperCase())&&void 0!==l?l:"GET",_=new URL(s.uri);switch(console.debug(c,s.uri),_.protocol){case"bcd:":e=function(e,t){let s=e.substring(1).split("/");if(""!==s[0])throw RangeError("Invalid path");let a=s.slice(3).join("/");if(3===s.length&&"me"===s[1]&&"drive"===s[2])return new Request("");if(s.length<5||"drives"!==s[1]||"items"!==s[3])throw RangeError("Invalid path");let[,,i,,r]=s,n=new Request(a);if(n.drive=i,n.item=r,5===s.length)return n.returnItems=!0,n;if(6===s.length)switch(s[5]){case"children":case"copy":return n.returnItems=!0,n;case"content":case"createUploadSession":return n;default:throw RangeError("Invalid path")}if(7===s.length){if(!n.item.endsWith(":")||(n.item=n.item.substring(0,n.item.length-1),!s[5].endsWith(":")))throw RangeError("Invalid path");switch(s[6]){case"content":return n.returnItems="PUT"===t.toUpperCase(),n;case"createUploadSession":return n}}throw RangeError("Invalid path")}(_.pathname,c);break;case"https:":if(!s.uri.startsWith("https://api.onedrive.com/v1.0/monitor/"))return eQ(t,"globalAccess");e=new Request(s.uri);break;default:return e$(t,"protocol")}if((null==e?void 0:e.drive)&&!i(e.drive)||(null==e?void 0:e.item)&&!i(e.item))return eY(t,"drive or item");let d=await (0,O.$f)(e.url,s.options),h=d.headers.get("Location"),p=d.headers.get("Content-Type"),m=await d.blob();if(m.size>131072)return console.error(s.uri,"content too large",m.size),function(e,t,s,a){e.send(JSON.stringify({status:502,contentType:"application/json",body:e0(JSON.stringify({error:{code:s,message:a}}))}))}(t,0,"responseTooLarge","The ".concat(m.size," bytes response body is too large. The maximum size is ").concat(131072," bytes."));d.ok&&e.returnItems&&await r(h,e5(p)?m:null);let u={status:d.status,body:await new Promise((e,t)=>{let s=new FileReader;s.onloadend=()=>{let t=s.result;return e(t.substring(t.indexOf(",")+1))},s.onerror=t,s.readAsDataURL(m)}),location:h,contentType:p};return t.send(JSON.stringify(u)),console.debug(c,s.uri,d.status),u}catch(e){throw console.error(s.uri,e),t.send(JSON.stringify({status:502,contentType:"application/json",body:e0(JSON.stringify(e))})),e}}e.addEventListener("message",n),null==t||t.map(e=>a(e))}(a,[t]),console.log("persistence enabled")):console.warn("persistence not available")}catch(e){console.error("Error occurred during persistence channel processing:",e)}}},r);p.push(w);let v=e=>{e.preventDefault(),"Backquote"===e.code&&e.ctrlKey&&e.altKey?w.destroy(0):"Enter"===e.code&&e.ctrlKey&&e.altKey?function(e){let t=document;if(t.webkitFullscreenElement)t.webkitExitFullscreen();else{e.requestFullscreen?e.requestFullscreen({navigationUI:"hide"}).catch(e=>console.error("Failed to enter fullscreen:",e)):e.webkitRequestFullscreen&&e.webkitRequestFullscreen();let t=navigator;t.keyboard&&t.keyboard.lock&&t.keyboard.lock()}}(o):"Slash"===e.code&&e.ctrlKey&&e.altKey&&(document.getElementById("video-resolution").innerText="".concat(i.videoWidth," x ").concat(i.videoHeight),document.body.classList.toggle("video-overlay"))};document.addEventListener("keydown",v,!0),e8(u,a,w,p,h)}})};let e6=async(e,t,s,a)=>{let i,r;if(!t)return;let n=e.split(" "),o=e.includes("demo"),l=localStorage.getItem("token");if(!l&&!o){s(ee.tm.onOpenLoginModal());return}let c=n[0].toLowerCase()+(o?"?demo=true":"");a&&(window.open(a.location,"_blank"),await ed(a.code),c="minecraft?trial=1");let _=new URL("borg:games/".concat(c));"1"===_.searchParams.get("trial")&&ei.Am.warn("Trial mode: 5 minutes",{autoClose:3e4});let d=await ec({verMin:"0.2.40"});if(!d.length){ei.Am.error("Unfortunately, all nodes for joining are occupied, please wait until it becomes free.");return}let h=(r=null,new Promise((e,t)=>{r=t,setTimeout(()=>{r&&r(Error("Timeout"))},3e5)}));l&&(i=await eo(_,l));let p=()=>{alert("Are you sure you want to exit the game?"),window.location.reload()};window.addEventListener("popstate",p);try{let e={game:c};e.sessionId||(e.sessionId=crypto.randomUUID()),document.body.classList.add("video"),t.controls=!1,window.history.pushState({videoPlaying:!0},"","/".concat(c));let a=await e4(d,i,e,h,t,s);if(0!==a){let e=a instanceof Error?a.message||"Unexpected error: ".concat(a):"Exit code: ".concat(a);ei.Am.error(e)}}catch(e){alert(e)}finally{document.body.classList.remove("video"),t.src="",t.load(),window.removeEventListener("popstate",p)}},e7=[{title:"DESCTOP-V0IAT7S",lastConnected:"Jul 4, 2023"},{title:"LAPTOP-6KL7QCS2",lastConnected:"Feb 20, 2023"}];var e9=s(7082),te=s.n(e9);let tt=e=>{let{isOpen:t,onClose:s,title:a}=e,i=(0,O.CG)(ep.ZY),r=(0,O.TL)(),[n,o]=(0,N.useState)(!1),[l,c]=(0,N.useState)(!1),[_,d]=(0,N.useState)(),[h,p]=(0,N.useState)(!1),m=()=>{e6(a,i,r,_)},u=async()=>{"Minecraft"===a?(c(!0),d(await e_()),c(!1),o(!0)):m()},g=(0,N.useCallback)(()=>{(null==_?void 0:_.code)&&(navigator.clipboard.writeText(null==_?void 0:_.code),p(!0),setTimeout(()=>{p(!1)},1e3))},[_]),[f,w]=(0,N.useState)(null);return(0,N.useEffect)(()=>{function e(e){"Enter"===e.key&&e6(a,i,r),"ArrowUp"===e.key&&(e.preventDefault(),w(e=>e?e-1:1)),"ArrowDown"===e.key&&(e.preventDefault(),w(e=>e?0:1)),"Escape"===e.key&&s()}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r,s,a,i]),(0,y.jsxs)(E.u_,{className:te().modal,isOpen:t,onClose:s,children:[l&&(0,y.jsx)(V,{withText:!1}),n&&!l&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.ZT,{weight:"seven",children:"Sign in with your Microsoft account to play Minecraft"}),(0,y.jsx)(E.ZT,{children:"Copy the code and enter it on the login page"}),(0,y.jsxs)("div",{className:te().modal__code,onClick:g,children:[(0,y.jsx)(E.ZT,{className:(0,O.AK)(te()["modal__code--msg"],{[te().visible]:h}),children:"Copied"}),(0,y.jsx)(E.ZT,{children:null==_?void 0:_.code}),(0,y.jsx)(Z,{})]}),(0,y.jsx)(E.KM,{onClick:m,variant:"primary",children:"Microsoft Login"})]}),!n&&!l&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.ZT,{weight:"seven",className:te().modal__title,children:"Choose the device"}),(0,y.jsx)(E.ZT,{color:"secondary",weight:"five",className:te().modal__text,children:"To start please, select the device on which you want to play this game"}),e7.map((e,t)=>(0,y.jsxs)("div",{className:(0,O.AK)(te().modal__content,{[te().inactive]:null!==f&&t!==f}),children:[(0,y.jsxs)("div",{className:te().modal__content__info,children:[(0,y.jsx)("div",{className:te().modal__content__icon,children:(0,y.jsx)(U.Z,{})}),(0,y.jsxs)("div",{children:[(0,y.jsx)(E.ZT,{weight:"seven",children:"Window"}),(0,y.jsx)(E.ZT,{weight:"five",children:e.title}),(0,y.jsx)(E.ZT,{weight:"five",color:"secondary",className:te().modal__content__date,children:"Connected - ".concat(e.lastConnected)})]})]}),(0,y.jsx)(E.KM,{onClick:u,children:(0,y.jsx)(P,{className:te().modal__icon})})]},"available-device-".concat(e.title)))]})]})};var ts=s(9688);let ta=["Factorio","Factorio (demo)","Minecraft"];(o=f||(f={})).UNSUPPORTED="unsupported",o.OK="OK";var ti=s(8219),tr=s.n(ti);let tn=e=>{let{title:t,poster_src:s,id:a,status:i,isSelected:r}=e,{isModalOpen:n,onOpenModal:o,onCloseModal:l}=(0,O.xk)(),c="/game/".concat(a),_=(0,O.CG)(ts.yV),d=ta.includes(t);return(0,N.useEffect)(()=>{function e(e){"Enter"===e.key&&o()}return r&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r,o,n]),(0,y.jsxs)("div",{className:tr().item,children:[n&&(0,y.jsx)(tt,{isOpen:n,onClose:l,title:t}),(0,y.jsxs)("div",{className:(0,O.AK)(tr().item__content,{[tr().selected]:r}),children:[(0,y.jsx)(j.default,{href:c,children:(0,y.jsx)(b.default,{className:tr().item__image,src:s,alt:"cover",width:320,height:180})}),!_&&!t.includes("demo")&&(0,y.jsx)(E.ZT,{weight:"seven",className:tr().item__notes,children:"Log in required"}),(0,y.jsx)(k,{className:tr().item__device})]}),(0,y.jsxs)("div",{className:tr().item__info,children:[(0,y.jsxs)(j.default,{href:c,children:[(0,y.jsx)(E.ZT,{weight:"six",color:"light",className:tr().item__title,children:t}),i&&(0,y.jsx)(E.ZT,{weight:"six",color:"light",className:(0,O.AK)(tr().item__status,{[tr().error]:i===f.UNSUPPORTED,[tr().success]:i===f.OK}),children:"(".concat(i,")")})]}),(0,y.jsxs)(E.zx,{onClick:o,isDisabled:!d,children:[(0,y.jsx)(P,{}),"Play"]})]})]})};var to=s(3267);function tl(){return(tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var tc=function(e){return S.createElement("svg",tl({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),w||(w=S.createElement("path",{fill:"#A9D800",d:"M3 11.329V8.392L16 0v2.622L4.91 9.755v.21L16 17.378V20z"})))},t_=s(7553),td=s.n(t_);s(3034),s(4885);let th=e=>{let{list:t,SlideItem:s,title:a,isSelectedSlider:i,selectedItem:r}=e,n=(0,N.useRef)(null),o=(0,N.useId)();return(0,N.useEffect)(()=>{let e=n.current;i&&r&&e&&e.swiper.slideToLoop(r-1)},[r,i]),(0,y.jsxs)("div",{className:td().slider,children:[(0,y.jsx)(E.ZT,{tag:"h2",size:"xl",weight:"five",children:a}),(0,y.jsx)("div",{children:(0,y.jsx)(to.tq,{id:i?o:"",className:td().slider__swiper,ref:n,loop:!0,slidesPerView:"auto",spaceBetween:30,children:t.map((e,t)=>(0,y.jsx)(to.o5,{className:td().slider__slide,children:(0,y.jsx)(s,{title:e.title,poster_src:e.poster_src,id:e.id,availableDevice:e.availableDevice,lastPlayData:null==e?void 0:e.lastPlayData,isSelected:i&&r===t+1})},e.id))})}),(0,y.jsxs)("div",{className:td().slider__nav,children:[(0,y.jsx)("div",{className:td()["slider__nav-next"],onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.swiper.slidePrev()},children:(0,y.jsx)(tc,{className:td()["slider__nav-next__icon"]})}),(0,y.jsx)("div",{className:td()["slider__nav-prev"],onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.swiper.slideNext()},children:(0,y.jsx)(tc,{className:td()["slider__nav-prev__icon"]})})]})]})};var tp=s(5044),tm=s(3599),tu=s.n(tm),tg=s(4799),tf=()=>{let e=(0,O.CG)(tg.pB),[t,s]=(0,N.useState)(!1),a=(0,O.TL)(),i=(0,N.useCallback)(()=>{a(tg.ns.onChangeIsNavBar())},[a]),[r,n]=(0,N.useState)({row:0,item:1}),o=(0,N.useCallback)(e=>{switch(e.key){case"ArrowUp":if(e.preventDefault(),t)break;n(e=>({...e,...(4!==e.row||1===e.item)&&{row:Math.max((e.row||1)-1,1)},...e.item>1&&{item:e.item-1}}));break;case"ArrowDown":if(e.preventDefault(),t)break;n(e=>({...e,...4!==e.row&&{row:Math.min((e.row||0)+1,4)},...4===e.row?{item:Math.min(e.item+1,12)}:{item:1}}));break;case"ArrowLeft":e.preventDefault(),r.row&&(1===r.item?i():n(e=>({...e,item:e.item-1})));break;case"ArrowRight":e.preventDefault(),t?i():r.row&&n(e=>({...e,item:12===e.item?1:(e.item||0)+1}))}},[i,t,r.item,r.row]),l=(0,N.useCallback)(e=>{"Enter"===e.key&&document.removeEventListener("keydown",o)},[o]),c=(0,N.useCallback)(e=>{"Escape"===e.key&&document.addEventListener("keydown",o)},[o]);(0,N.useEffect)(()=>(document.addEventListener("keydown",o),document.addEventListener("keydown",l),document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keydown",l),document.removeEventListener("keydown",c)}),[o,c,l]),(0,N.useEffect)(()=>{s(e)},[e]);let _=(0,N.useRef)(null),d=(0,N.useRef)(null),h=(0,N.useRef)(null),p=(0,N.useRef)(null);return(0,N.useEffect)(()=>{let e={1:_.current,2:d.current,3:h.current,4:p.current};if(null!==r.row&&e[r.row]){let t=e[r.row],s=(null==t?void 0:t.offsetTop)||100;window.scrollTo({top:s-100,behavior:"smooth"})}},[r.row]),{selectedGame:r,recentlyPlayedGamesRef:_,mostPopularGamesRef:d,newlyAddedGamesRef:h,immediatelyAvailableGamesRef:p,handleKeyDown:o,isNavBarNavigate:t}},tw=s(5292),tv=s.n(tw);let tx=()=>(0,y.jsx)("div",{className:tv().empty,children:(0,y.jsxs)("div",{children:[(0,y.jsx)(b.default,{src:"/assets/img/search_empty.webp",alt:"search",width:230,height:224}),(0,y.jsx)(E.ZT,{weight:"five",color:"secondary",className:tv().empty__text,children:"No games were found for your request"})]})}),ty=()=>{let e=(0,O.CG)(ee.ph),t=(0,O.CG)(tp.sv),s=(0,O.CG)(tp.du),a=(0,O.CG)(tp.K3),i=(0,O.CG)(tp.zV),{selectedGame:r,recentlyPlayedGamesRef:n,mostPopularGamesRef:o,newlyAddedGamesRef:l,immediatelyAvailableGamesRef:c,isNavBarNavigate:_}=tf();return i.length||a.length||s.length||t.length?(0,y.jsxs)("div",{className:(0,O.AK)(tu().wrapper,{[tu().isOpen]:e}),children:[!!i.length&&(0,y.jsx)("div",{ref:n,children:(0,y.jsx)(th,{title:"Recently played games",list:i,SlideItem:G,isSelectedSlider:1===r.row&&!_,selectedItem:r.item})}),!!t.length&&(0,y.jsx)("div",{ref:o,children:(0,y.jsx)(th,{title:"Most Popular Games",list:t,SlideItem:tn,isSelectedSlider:2===r.row&&!_,selectedItem:r.item})}),!!s.length&&(0,y.jsx)("div",{ref:l,children:(0,y.jsx)(th,{title:"Newly added",list:s,SlideItem:tn,isSelectedSlider:3===r.row&&!_,selectedItem:r.item})}),!!a.length&&(0,y.jsx)(E.ZT,{tag:"h2",size:"xl",weight:"five",children:"All Games"}),(0,y.jsx)("div",{className:tu().wrapper__games,ref:c,children:null==a?void 0:a.map((e,t)=>(0,y.jsx)(tn,{title:e.title,poster_src:e.poster_src,id:e.id,availableDevice:e.availableDevice,isSelected:4===r.row&&r.item===t+1&&!_},"immediately-available-games-".concat(e.id)))})]}):(0,y.jsx)(tx,{})};var tb=s(6582),tj=s.n(tb);let tN=()=>{let[e,t]=(0,N.useState)({email:"",password:""}),[s,a]=(0,N.useState)({email:"",password:""}),i=(e,t)=>{a(s=>({...s,[t]:e}))};(0,N.useEffect)(()=>{s.email.length>3?t({email:"Error description here",password:""}):t({email:"",password:""})},[s.email]);let{isModalOpen:r,onCloseModal:n,onOpenModal:o}=(0,O.xk)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.u_,{isOpen:r,onClose:n,className:tj().modal,children:(0,y.jsx)(E.KM,{variant:"primary",children:"Log in"})}),(0,y.jsxs)("div",{className:tj().wrapper,children:[(0,y.jsx)(E.ZT,{tag:"h1",size:"xl",weight:"five",children:"Recently played games"}),(0,y.jsx)(E.zx,{variant:"clear",onClick:o,children:"Open Modal"}),(0,y.jsxs)(E.zx,{children:[(0,y.jsx)(P,{className:tj().icon}),"Play"]}),(0,y.jsx)(E.zx,{variant:"clear",children:(0,y.jsx)(E.ZT,{children:"Play"})}),(0,y.jsx)(E.KM,{children:(0,y.jsx)(P,{className:tj().icon})}),(0,y.jsx)(E.KM,{isDisabled:!0,children:(0,y.jsx)(P,{className:tj().icon})}),(0,y.jsxs)(E.KM,{variant:"primary",children:[(0,y.jsx)(P,{className:tj().icon}),"Play"]}),(0,y.jsx)(E.II,{name:"email",error:e.email,label:"Email",value:s.email,onChange:i,placeholder:"email"}),(0,y.jsx)(E.II,{name:"password",error:e.password,label:"Password",value:s.password,onChange:i,placeholder:"email",type:"password"}),(0,y.jsx)(E.II,{withEdit:!0,name:"password",error:e.password,label:"Password",value:s.password,onChange:i,placeholder:"email",type:"password"})]})]})};s(7127);var tS=s(1444),tC=s(9085),tk=s.n(tC);let tT=()=>(0,y.jsxs)(E.Zb,{className:tk().wrapper,children:[(0,y.jsxs)("div",{className:tk().wrapper__info,children:[(0,y.jsx)(E.ZT,{className:tk().wrapper__title,weight:"seven",children:"Get started"}),(0,y.jsx)(E.ZT,{className:tk().wrapper__text,weight:"five",children:"You need to install the node on a gaming-capable Windows PC in order to join the Borg network."})]}),(0,y.jsx)("a",{href:"https://apps.microsoft.com/detail/9NTDRRR4814S?referrer=appbadge&source=borg.games&hl=en-us&gl=US",target:"blank",rel:"nofollow noindex",children:(0,y.jsx)(b.default,{src:"/assets/img/MS_banner.webp",alt:"ms",width:231,height:80})})]}),tP=["money","premium access to our cloud gaming service","early access to games","early access to cloud gaming features","special content","member discounts"],tE=[{num:1,title:"GPU/H.264 encoder",text:"OPTIONAL: GPU appears to be supported - during the technical preview only NVidia GPUs are fully supported.\n     If you have an NVidia GPU, and still see an error, try installing the latest driver.\n    Non-NVidia GPUs might work, but the user experience and performance will be degraded."},{num:2,title:"Sandbox",text:"Running a full Borg node requires Windows Sandbox to be installed.\n     Windows Sandbox in turn needs a Windows component called Hyper-V to be installed\n      and virtualization enabled in UEFI/BIOS"}];var tI=s(4685),tL=s.n(tI);let tM=e=>{let{num:t,title:s,text:a}=e;return(0,y.jsxs)("div",{className:tL().block,children:[(0,y.jsx)(E.ZT,{className:tL().block__number,weight:"seven",color:"primary",children:t}),(0,y.jsxs)(E.Zb,{className:tL().block__card,children:[(0,y.jsx)(E.ZT,{className:tL().block__title,weight:"six",children:s}),(0,y.jsx)(E.ZT,{className:tL().block__text,weight:"five",color:"secondary",children:a})]})]})};var tO=s(8299),tA=s.n(tO);let tR=()=>{let e=(0,tS.v9)(ee.ph);return(0,y.jsxs)("div",{className:(0,O.AK)(tA().wrapper,{[tA().isOpen]:e}),children:[(0,y.jsx)(tT,{}),(0,y.jsxs)("div",{className:tA().wrapper__setup,children:[(0,y.jsx)(E.ZT,{className:tA()["wrapper__setup--title"],weight:"six",children:"How to setup Borg node?"}),(0,y.jsxs)(E.Zb,{className:tA()["wrapper__setup--info"],children:[(0,y.jsx)(E.ZT,{className:tA()["wrapper__setup--info__title"],weight:"six",children:"What is a Borg node?"}),(0,y.jsx)(E.ZT,{className:tA()["wrapper__setup--info__text"],weight:"six",color:"light",children:"Borg.games is a P2P cloud gaming service where games run on idling computers all over the world. You can join your computer to the Borg network to offer its idle resources. In return Borg.games will provide various benefits, including but not limited to:"}),(0,y.jsx)("ul",{className:tA()["wrapper__setup--info__list"],children:tP.map(e=>(0,y.jsx)("li",{children:e},"setup-list-item-".concat(e)))})]})]}),(0,y.jsxs)("div",{className:tA().wrapper__configure,children:[(0,y.jsx)(E.ZT,{className:tA()["wrapper__setup--title"],weight:"six",children:"Configure"}),(0,y.jsx)(E.ZT,{className:tA().wrapper__configure__text,children:"During technical preview app interface might change often and will not match the picture exactly"}),(0,y.jsx)(b.default,{className:tA().wrapper__configure__image,src:"/assets/img/node_status.webp",alt:"img",width:650,height:477})]}),tE.map(e=>{let{num:t,title:s,text:a}=e;return(0,y.jsx)(tM,{num:t,title:s,text:a},"setup-requirement-item-".concat(s))}),(0,y.jsxs)("div",{className:tA().wrapper__validate,children:[(0,y.jsx)(E.ZT,{className:tA()["wrapper__setup--title"],weight:"six",children:"Validate public node status"}),(0,y.jsxs)(E.ZT,{weight:"five",className:tA().wrapper__validate__text,color:"light",children:["Once all the requirements are met it might be necessary to restart the Borg node app or your whole PC. Borg app shows in the system tray next to the clock as a red icon:",(0,y.jsx)("br",{}),'To exit the app right-click on the icon and select "Exit"']}),(0,y.jsx)(E.ZT,{weight:"five",className:tA().wrapper__validate__text,color:"light",children:"After the app is restarted and some time passes you should see the following message:"}),(0,y.jsx)(b.default,{className:tA().wrapper__validate__image,src:"/assets/img/node_status_ok.webp",alt:"img",width:345,height:194}),(0,y.jsx)(E.ZT,{weight:"five",className:tA().wrapper__validate__text,color:"light",children:"If you are certain all requirements are met, but the Sandbox still does not start, please contact support."})]}),(0,y.jsx)(tT,{})]})};var tG=s(357);let tB=()=>{let e=(0,O.CG)(ee.ph),t=(0,O.CG)(ts.yV),s=(0,O.CG)(ts.FH),a=(0,O.CG)(tp.q0),i=(0,O.TL)(),[r,n]=(0,N.useState)(void 0);(0,N.useEffect)(()=>{s||n(t)},[s,t]);let o=()=>{let{host:e}=window.location,t=encodeURIComponent("https://".concat(e,"/profile")),s="openid.ns=http://specs.openid.net/auth/2.0&openid.claimed_id=http://specs.openid.net/auth/2.0/identifier_select&openid.identity=http://specs.openid.net/auth/2.0/identifier_select&openid.return_to=".concat(t,"&openid.realm=").concat(t,"&openid.mode=checkid_setup");window.location.href="".concat("https://steamcommunity.com/openid/login","?").concat(s)},l=async()=>{},c=async()=>{},_=async e=>{switch(e){case"steam":return o();case"gog":return l();case"epic":return c();default:return null}},d=async e=>{"steam"===e&&i((0,tp.ju)())};return(0,N.useEffect)(()=>{let e=async()=>{var e;let s=(null===(e=new URLSearchParams(window.location.search).get("openid.claimed_id"))||void 0===e?void 0:e.split("/").pop())||(null==t?void 0:t.steam_id);if(s){(null==t?void 0:t.steam_id)||await (0,tp.Li)(s);let{data:e}=await er.Z.get("https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key=".concat(tG.env.NEXT_PUBLIC_STEAM_API_KEY,"&steamid=").concat(s,"&format=json"));i(tp.OJ.connectSteam(e.response.games))}};s||e()},[i,s,null==t?void 0:t.steam_id]),{isNavBarOpenOpen:e,user:r,isUserLoad:s,handleConnect:_,platformGames:a,handleDisconnect:d}};var tZ=s(957),tU=s.n(tZ),tD=s(4370),tK=s.n(tD);let tF=e=>{let{platformGames:t,handleConnect:s,handleDisconnect:a}=e,[i,r]=(0,N.useState)([]),[n,o]=(0,N.useState)([]);return(0,N.useEffect)(()=>{let e=[],s=[];Object.keys(t).forEach(a=>{t[a].connect?e.push({...t[a],platform:a}):s.push({...t[a],platform:a})}),r(e),o(s)},[t]),(0,y.jsxs)("div",{className:tK().wrapper,children:[(0,y.jsx)(E.ZT,{weight:"seven",className:tK().wrapper__title,children:"Accounts"}),(0,y.jsxs)("div",{className:tK().wrapper__content,children:[(0,y.jsxs)("div",{children:[!!i.length&&(0,y.jsx)(E.ZT,{className:tK().wrapper__content__title,children:"Connected"}),(0,y.jsx)("div",{className:tK().wrapper__content__list,children:i.map(e=>(0,y.jsxs)("div",{className:tK().wrapper__card,children:[(0,y.jsx)(b.default,{className:tK().wrapper__card__logo,src:e.logoConnect||"",alt:"logo",width:64,height:64}),(0,y.jsxs)("div",{children:[(0,y.jsx)(E.ZT,{children:e.platform}),(0,y.jsx)(E.zx,{onClick:()=>a(e.platform),className:tK().wrapper__card__btn,variant:"clear",children:"Disconnect"})]})]},"connected-store-".concat(e.platform)))})]}),!!n.length&&!!i.length&&(0,y.jsx)("div",{className:tK().wrapper__content__decider}),(0,y.jsxs)("div",{children:[n.length&&(0,y.jsx)(E.ZT,{className:tK().wrapper__content__title,children:"Not connected"}),(0,y.jsx)("div",{className:tK().wrapper__content__list,children:n.map(e=>(0,y.jsxs)("div",{className:tK().wrapper__card,children:[(0,y.jsx)(b.default,{className:tK().wrapper__card__logo,src:e.logo,alt:"logo",width:64,height:64}),(0,y.jsxs)("div",{children:[(0,y.jsx)(E.ZT,{children:e.platform}),(0,y.jsx)(E.zx,{onClick:()=>s(e.platform),className:tK().wrapper__card__btn,variant:"clear",children:"Connect"})]})]},"unconnected-store-".concat(e.platform)))})]})]})]})};function tq(){return(tq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var tH=function(e){return S.createElement("svg",tq({width:15,height:15,fill:"none",viewBox:"0 0 15 15"},e),v||(v=S.createElement("path",{stroke:"#A9D800",strokeLinecap:"round",strokeLinejoin:"round",d:"M13 14H7.665m-7 .333 3.7-1.423c.236-.09.354-.136.465-.196q.147-.078.28-.182c.1-.077.19-.166.369-.345L13 4.667A1.886 1.886 0 0 0 10.332 2l-7.52 7.52a4 4 0 0 0-.346.368q-.103.133-.182.28c-.06.11-.105.23-.196.466zm0 0 1.372-3.567c.098-.255.147-.383.232-.441a.33.33 0 0 1 .252-.054c.1.02.198.116.391.31l1.506 1.505c.193.194.29.29.31.391a.33.33 0 0 1-.054.253c-.059.084-.186.133-.442.231z"})))};function tz(){return(tz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var tW=function(e){return S.createElement("svg",tz({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),x||(x=S.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.5 7.5v-5m0 0h-5m5 0L10 10M8.333 2.5H6.5c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093C2.5 4.4 2.5 5.1 2.5 6.5v7c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C4.4 17.5 5.1 17.5 6.5 17.5h7c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092c.273-.535.273-1.235.273-2.635v-1.833"})))},tJ=s(3351),tV=s.n(tJ);let tX=e=>{let{user:t}=e;return(0,y.jsxs)("div",{className:tV().card,children:[(0,y.jsxs)("div",{className:tV().card__info,children:[(0,y.jsx)(b.default,{src:(null==t?void 0:t.avatarUrl)||"/assets/img/user_avatar.webp",alt:"avatar",width:100,height:100}),(0,y.jsxs)("div",{className:tV().card__profile,children:[(0,y.jsxs)("div",{className:tV().card__title,children:[(0,y.jsx)(E.ZT,{className:tV().card__name,weight:"six",children:null==t?void 0:t.displayName}),(0,y.jsxs)(E.ZT,{color:"primary",className:tV().card__edit,children:[(0,y.jsx)(tH,{}),"Edit profile"]})]}),(0,y.jsxs)("div",{className:tV().card__storage,children:[(0,y.jsxs)("div",{className:tV()["card__drive--storage"],children:[(0,y.jsx)(tW,{className:tV()["card__drive--storage__icon"]}),(0,y.jsx)(E.ZT,{weight:"five",className:tV()["card__drive--storage__text"],children:"One drive storage"}),(0,y.jsx)("progress",{className:tV()["card__drive--storage__progress"],max:null==t?void 0:t.totalMBSpace,value:null==t?void 0:t.usedMBSpace}),(0,y.jsxs)(E.ZT,{className:tV()["card__drive--storage__info"],weight:"five",children:[null==t?void 0:t.usedMBSpace,"mb/",(null==t?void 0:t.totalMBSpace)?(t.totalMBSpace/1e3).toFixed():0,"gb"]})]}),(0,y.jsxs)("div",{className:(0,O.AK)(tV()["card__games--info"],{[tV().isTablet]:!0}),children:[(0,y.jsxs)("div",{className:tV()["card__games--info__item"],children:[(0,y.jsx)(E.ZT,{color:"gray",className:tV()["card__games--info__title"],weight:"five",children:"Total time played"}),(0,y.jsx)(E.ZT,{className:tV()["card__games--info__text"],weight:"six",children:"15 hours"})]}),(0,y.jsxs)("div",{className:tV()["card__games--info__item"],children:[(0,y.jsx)(E.ZT,{color:"gray",className:tV()["card__games--info__title"],weight:"five",children:"Games played"}),(0,y.jsx)(E.ZT,{className:tV()["card__games--info__text"],weight:"six",children:"4 hours"})]})]})]})]})]}),(0,y.jsxs)("div",{className:(0,O.AK)(tV()["card__games--info"],{[tV().isMobile]:!0}),children:[(0,y.jsxs)("div",{className:tV()["card__games--info__item"],children:[(0,y.jsx)(E.ZT,{color:"gray",className:tV()["card__games--info__title"],weight:"five",children:"Total time played"}),(0,y.jsx)(E.ZT,{className:tV()["card__games--info__text"],weight:"six",children:"15 hours"})]}),(0,y.jsxs)("div",{className:tV()["card__games--info__item"],children:[(0,y.jsx)(E.ZT,{color:"gray",className:tV()["card__games--info__title"],weight:"five",children:"Games played"}),(0,y.jsx)(E.ZT,{className:tV()["card__games--info__text"],weight:"six",children:"4 hours"})]})]})]})};var tY=s(7767),tQ=s.n(tY);let t$=e=>{let{isOpen:t,onClose:s,func:a,title:i,text:r}=e;return(0,y.jsxs)(E.u_,{className:tQ().modal,isOpen:t,onClose:s,children:[(0,y.jsx)(E.ZT,{weight:"seven",className:tQ().modal__title,children:i}),r&&(0,y.jsx)(E.ZT,{weight:"six",className:tQ().modal__text,children:r}),(0,y.jsxs)("div",{className:tQ()["modal__btn--group"],children:[(0,y.jsx)(E.zx,{color:"cancel",onClick:()=>{null==a||a(),s()},className:tQ().modal__btn,children:"Yes"}),(0,y.jsx)(E.zx,{color:"primary",onClick:s,className:(0,O.AK)(tQ().modal__btn,{[tQ().isCancel]:!0}),children:"No"})]})]})},t0=[{id:1,title:"Monthly",coast:24,properties:["Better quality","Longer sessions","No wait time","Family sharing (for my games)"]},{id:2,title:"Yearly",coast:245,sales:15,properties:["Better quality","Longer sessions","No wait time","Family sharing (for my games)"]}],t1=["No option for graphics quality settings","Standard sessions","No family sharing (for my games)"],t2=["Better quality","Longer sessions","No wait time","Family sharing (for my games)"],t3=[{id:1,game:"Phasmophobia",totalPlayedTime:15,lastPlayedDate:"07/12/2023",imgSrc:"/assets/img/cover_game_item_1.webp"},{id:2,game:"Half-Life: Alyx",totalPlayedTime:6,lastPlayedDate:"12/12/2023",imgSrc:"/assets/img/cover_game_item_2.webp"}],t5=[{label:"Low (30Mbts/s)"},{label:"Medium (40Mbts/s)"},{label:"High (50Mbts/s)"},{label:"Ultra (60Mbts/s)"}];var t8=s(3583),t4=s.n(t8);let t6=()=>{let[e,t]=(0,N.useState)(t0[0]),s=(0,N.useCallback)(t=>e.id===t,[e.id]),[a,i]=(0,N.useState)(!1),[r,n]=(0,N.useState)(t1);(0,N.useEffect)(()=>{n(a?t2:t1)},[a]);let{isModalOpen:o,onCloseModal:l,onOpenModal:c}=(0,O.xk)(),_=e=>()=>{s(e)||t(t0.find(t=>t.id===e))};return(0,y.jsxs)("div",{className:t4().plan,children:[(0,y.jsxs)("div",{className:t4().plan__info,children:[(0,y.jsxs)("div",{className:t4().plan__description,children:[a?(0,y.jsx)(b.default,{className:t4().plan__info__image,src:"/assets/img/sub_premium.webp",alt:"user",width:88,height:88}):(0,y.jsx)(b.default,{className:t4().plan__info__image,src:"/assets/img/sub_free_user.webp",alt:"user",width:88,height:88}),(0,y.jsxs)("div",{className:t4().plan__info__params,children:[(0,y.jsx)(E.ZT,{className:t4().plan__title,weight:"seven",children:a?"Premium user":"Free user"}),r.map(e=>(0,y.jsx)(E.ZT,{className:(0,O.AK)(t4().plan__info__text,{[t4().color]:a}),color:"secondary",children:e},"user-plan-params-".concat(e)))]})]}),a&&(0,y.jsxs)("div",{className:t4().plan__subscription,children:[(0,y.jsxs)(E.ZT,{weight:"five",color:"secondary",className:t4().plan__subscription__text,children:["Next billing date:",(0,y.jsx)("span",{className:t4()["plan__color--text"],children:"12/30/2023"})]}),(0,y.jsx)(E.zx,{className:t4().plan__subscription__btn,variant:"clear",onClick:c,children:"Cancel subscription"}),(0,y.jsx)(t$,{isOpen:o,onClose:l,func:()=>i(!1),title:"Cancel subscription?",text:"Are you sure you want to cancel your subscription, you can still access it until Apr 29, 2024"})]})]}),(0,y.jsx)("div",{className:t4().plan__separator}),(0,y.jsxs)("div",{className:t4().plan__selection,children:[(0,y.jsx)("div",{className:t4().plan__choice,children:t0.map(e=>(0,y.jsxs)("div",{children:[(0,y.jsx)(E.ZT,{weight:"five",color:s(e.id)?"primary":"secondary",onClick:_(e.id),className:(0,O.AK)(t4().plan__variant,{[t4().isSelected]:s(e.id)}),children:e.title}),e.sales&&(0,y.jsx)("div",{className:t4().plan__choice__sale,children:"".concat(e.sales,"%")})]},"profile-plan-list-".concat(e.id)))}),(0,y.jsxs)("div",{className:t4()["plan__selected--info"],children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(E.ZT,{weight:"five",className:t4().plan__name,children:"Premium user"}),(0,y.jsx)(E.ZT,{weight:"seven",className:t4().plan__coast,children:"".concat(e.coast,"$")})]}),(0,y.jsx)("div",{children:a?(0,y.jsx)(E.ZT,{weight:"five",color:"secondary",className:t4().plan__active,children:"Don't delay and extend your subscription to have access to games for a longer period!"}):e.properties.map(t=>(0,y.jsx)(E.ZT,{className:(0,O.AK)(t4().plan__info__text,{[t4().color]:!0}),color:"secondary",children:t},"plan-".concat(e.id,"-property-").concat(t)))})]}),(0,y.jsx)(E.KM,{className:t4().plan__btn,variant:"primary",onClick:()=>i(!0),children:a?"Extend":"Upgrade"})]})]})};var t7=s(4923),t9=s.n(t7);s(3191),s(7322);var se=s(7805);let st=()=>{let e=(0,N.useRef)(null);return(0,y.jsxs)("div",{className:t9().settings,children:[(0,y.jsx)(E.ZT,{weight:"seven",className:t9().settings__title,children:"Settings"}),(0,y.jsxs)("div",{className:t9().settings__params,children:[(0,y.jsx)(E.ZT,{weight:"six",className:t9().settings__params__title,children:"Graphics quality"}),(0,y.jsxs)(to.tq,{modules:[se.tl],pagination:{el:"#swiper-pagination",type:"bullets"},ref:e,className:t9().settings__slider,slidesPerView:1,children:[t5.map(e=>(0,y.jsx)(to.o5,{className:t9().settings__slider__slide,children:(0,y.jsx)(E.ZT,{weight:"six",color:"light",className:t9().settings__slider__text,children:e.label})},"settings-quality-".concat(e.label))),(0,y.jsx)("div",{className:t9().settings__slider__pagination,id:"swiper-pagination"}),(0,y.jsx)(tc,{onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.swiper.slidePrev()},className:(0,O.AK)(t9().settings__slider__nav)}),(0,y.jsx)(tc,{onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.swiper.slideNext()},className:(0,O.AK)(t9().settings__slider__nav,{[t9().isNext]:!0})})]})]})]})};var ss=s(5634),sa=s.n(ss);let si=()=>(0,y.jsxs)("div",{className:sa().activity,children:[(0,y.jsx)(E.ZT,{weight:"six",className:sa().activity__title,children:"My activity"}),(0,y.jsx)("div",{className:sa().activity__content,children:t3.map(e=>(0,y.jsxs)("div",{className:sa().activity__card,children:[(0,y.jsx)(b.default,{src:e.imgSrc,width:330,height:185,alt:"game"}),(0,y.jsxs)("div",{className:sa()["activity__card--content"],children:[(0,y.jsx)(E.ZT,{weight:"seven",className:sa().activity__card__title,children:e.game}),(0,y.jsxs)(E.ZT,{color:"secondary",weight:"five",className:sa().activity__card__text,children:["Played in total:",(0,y.jsxs)("span",{className:sa().activity__card__green,children:[" ".concat(e.totalPlayedTime," "),"hours"]})]}),(0,y.jsxs)(E.ZT,{color:"secondary",weight:"five",className:sa().activity__card__text,children:["Last played:",(0,y.jsx)("span",{className:sa().activity__card__white,children:" ".concat(e.lastPlayedDate)})]})]})]},"activity-item-".concat(e.id)))})]}),sr=()=>{let{isNavBarOpenOpen:e,user:t,isUserLoad:s,handleConnect:a,platformGames:i,handleDisconnect:r}=tB();return s?(0,y.jsx)(V,{}):(0,y.jsxs)("div",{className:(0,O.AK)(tU().wrapper,{[tU().isOpen]:e}),children:[!t&&(0,y.jsx)(st,{}),t&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(tX,{user:t}),(0,y.jsx)(t6,{}),(0,y.jsx)(tF,{platformGames:i,handleConnect:a,handleDisconnect:r}),(0,y.jsx)(st,{}),(0,y.jsx)(si,{})]})]})};var sn=s(5713),so=s(357);let sl=async e=>{let t="".concat(so.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/");try{let s={headers:{Authorization:"Bearer ".concat(e)}},{data:a}=await er.Z.get("".concat(t).concat("special/apps/children"),s),i=a.value.find(e=>"Borg"===e.name);if(!i)return[];let{data:r}=await er.Z.get("".concat(t,"items/").concat(i.id,"/children"),s),n=r.value.find(e=>"PCs"===e.name);if(!n)return[];let{value:o}=(await er.Z.get("".concat(t,"items/").concat(n.id,"/children"),s)).data,l=[];return await Promise.all(o.map(async e=>{if(!e.folder){let{data:t}=await er.Z.get(e["@microsoft.graph.downloadUrl"]);l.push(...t)}})),l}catch(e){return[]}};var sc=s(1899),s_=s.n(sc);let sd=()=>{let e=(0,O.CG)(ee.ph),t=(0,O.CG)(ts.FH),s=(0,O.CG)(ts.yV),[a,i]=(0,N.useState)(!1),[r,n]=(0,N.useState)(!1),[o,l]=(0,N.useState)([]),c=(0,N.useCallback)(async()=>{let e=localStorage.getItem("token");if(e){i(!0);let t=await sl(e);l(t),n(!!t.length),i(!1)}},[]);(0,N.useEffect)(()=>{c()},[c]);let _=(0,N.useCallback)(()=>a||t?(0,y.jsx)(V,{}):s?r?o.length?(0,y.jsx)(z,{list:o}):(0,y.jsx)(F,{}):(0,y.jsx)($,{}):(0,y.jsx)(ea,{}),[a,t,s,r,o]);return(0,y.jsxs)("div",{className:(0,O.AK)(s_().wrapper,{[s_().isOpen]:e}),children:[(0,y.jsx)(sn.Z,{weight:"seven",className:s_().wrapper__title,children:"My Games"}),_()]})};s(8642)},3191:function(){},7082:function(e){e.exports={modal:"ChooseDeviceModal_modal__V4beE",modal__title:"ChooseDeviceModal_modal__title__T_O4s",modal__text:"ChooseDeviceModal_modal__text__kzsnm",modal__content:"ChooseDeviceModal_modal__content__5dXAt",modal__content__info:"ChooseDeviceModal_modal__content__info__gCEnf",modal__content__icon:"ChooseDeviceModal_modal__content__icon__QbJB0",modal__content__date:"ChooseDeviceModal_modal__content__date__ODdLo",inactive:"ChooseDeviceModal_inactive__XXrgE",modal__icon:"ChooseDeviceModal_modal__icon__Vq66m",modal__code:"ChooseDeviceModal_modal__code__lNfKD","modal__code--msg":"ChooseDeviceModal_modal__code--msg__ILZLt",visible:"ChooseDeviceModal_visible__YBoCU"}},7767:function(e){e.exports={modal:"ConfirmModal_modal__M_Ni7",modal__title:"ConfirmModal_modal__title__Zn0xZ",modal__text:"ConfirmModal_modal__text__g6amM","modal__btn--group":"ConfirmModal_modal__btn--group__09D_t",modal__btn:"ConfirmModal_modal__btn__CBfH6"}},7553:function(e){e.exports={slider:"Slider_slider__7xFAQ",slider__swiper:"Slider_slider__swiper__lvstI",slider__slide:"Slider_slider__slide__c6gAY",slider__nav:"Slider_slider__nav__sEow9","slider__nav-prev__icon":"Slider_slider__nav-prev__icon__uurin","slider__nav-next__icon":"Slider_slider__nav-next__icon__JPas6"}},3520:function(e){e.exports={modal:"TrialPlayModal_modal__O_drZ",modal__title:"TrialPlayModal_modal__title__9PG2H",modal__text:"TrialPlayModal_modal__text__EzIH7",modal__register:"TrialPlayModal_modal__register__UgQhQ",modal__trial:"TrialPlayModal_modal__trial__4Yevz",modal__green:"TrialPlayModal_modal__green__WCJpS"}},7127:function(e){e.exports={wrapper:"GamePage_wrapper__tFUmJ",wrapper__breadcrumbs:"GamePage_wrapper__breadcrumbs__oZJEE",wrapper__breadcrumbs__text:"GamePage_wrapper__breadcrumbs__text__bBmjH",wrapper__media:"GamePage_wrapper__media__nn_5b",wrapper__media__device:"GamePage_wrapper__media__device__aPDI3",wrapper__media__image:"GamePage_wrapper__media__image__vGq2w",wrapper__media__gallery:"GamePage_wrapper__media__gallery__fsiwO",wrapper__title:"GamePage_wrapper__title__HX9m5",wrapper__title__badge:"GamePage_wrapper__title__badge__5t5ko",wrapper__btn:"GamePage_wrapper__btn__ozbGJ",wrapper__description:"GamePage_wrapper__description__uKZC5",isOpen:"GamePage_isOpen__cNflv",wrapper__description__text:"GamePage_wrapper__description__text__isS2S",wrapper__description__icon:"GamePage_wrapper__description__icon__eLZ3f",wrapper__description__btn:"GamePage_wrapper__description__btn__tEQF2",wrapper__description__image:"GamePage_wrapper__description__image__tWa96",wrapper__gallery:"GamePage_wrapper__gallery__1KsfD",isNavBarOpen:"GamePage_isNavBarOpen__XNGgS"}},3599:function(e){e.exports={wrapper:"HomePage_wrapper__Y_HvI",wrapper__games:"HomePage_wrapper__games__O_Rws",isOpen:"HomePage_isOpen__0TWH_"}},5292:function(e){e.exports={empty:"EmptyState_empty__A3lTb",empty__text:"EmptyState_empty__text__fcZQs"}},1899:function(e){e.exports={wrapper:"MyGamesPage_wrapper___XqV_",wrapper__title:"MyGamesPage_wrapper__title__ZuK2T",isOpen:"MyGamesPage_isOpen__0x8g5"}},1802:function(e){e.exports={wrapper:"EmptyState_wrapper__PGyt_",wrapper__title:"EmptyState_wrapper__title__J12uM",wrapper__text:"EmptyState_wrapper__text__InroA",wrapper__image:"EmptyState_wrapper__image__DpX3R"}},277:function(e){e.exports={wrapper:"GamesState_wrapper__l9Ha_"}},8713:function(e){e.exports={loader:"Loader_loader__ZkKx6",loader__square:"Loader_loader__square__Aop5O",animloader:"Loader_animloader__cH_eC",loader__text:"Loader_loader__text__YSh0Q"}},1120:function(e){e.exports={wrapper:"NotInstallAppState_wrapper__tzyQm",wrapper__title:"NotInstallAppState_wrapper__title__1IUV7",wrapper__text:"NotInstallAppState_wrapper__text__3DBRb",wrapper__image:"NotInstallAppState_wrapper__image__ygb2Y"}},4363:function(e){e.exports={wrapper:"NotLoginState_wrapper__AoAkQ",wrapper__title:"NotLoginState_wrapper__title__vI0aR",wrapper__text:"NotLoginState_wrapper__text__YmZEM",wrapper__image:"NotLoginState_wrapper__image__y6znE"}},957:function(e){e.exports={wrapper:"ProfilePage_wrapper__xJBca",isOpen:"ProfilePage_isOpen__yP0_n"}},4370:function(e){e.exports={wrapper:"GameStores_wrapper__w1eQD",wrapper__title:"GameStores_wrapper__title__JlFQM",wrapper__content:"GameStores_wrapper__content__1q8Cj",wrapper__content__title:"GameStores_wrapper__content__title__BLdom",wrapper__content__list:"GameStores_wrapper__content__list__TkQQy",wrapper__content__decider:"GameStores_wrapper__content__decider__F8lkB",wrapper__card:"GameStores_wrapper__card__J2Pv1",wrapper__card__logo:"GameStores_wrapper__card__logo__c_YNt",wrapper__card__btn:"GameStores_wrapper__card__btn___9NMD"}},5634:function(e){e.exports={activity:"MyActivity_activity__lmW_I",activity__title:"MyActivity_activity__title__0eik0",activity__content:"MyActivity_activity__content__zQ_69",activity__card:"MyActivity_activity__card__jbkuj",activity__card__title:"MyActivity_activity__card__title__AuA93",activity__card__text:"MyActivity_activity__card__text__B9f47",activity__card__green:"MyActivity_activity__card__green__YzI9k",activity__card__white:"MyActivity_activity__card__white__Tg_Ik","activity__card--content":"MyActivity_activity__card--content__upYRR"}},3583:function(e){e.exports={plan:"Plan_plan__gDtj8",plan__title:"Plan_plan__title__t6C_H",plan__separator:"Plan_plan__separator__iI4HB",plan__info:"Plan_plan__info__qnxHn",plan__info__params:"Plan_plan__info__params__6hj_Z",plan__info__text:"Plan_plan__info__text__XMBSx",color:"Plan_color__NOpv_","plan__selected--info":"Plan_plan__selected--info__WNsja",plan__name:"Plan_plan__name__HVYVL",plan__coast:"Plan_plan__coast__1VWG8",plan__choice:"Plan_plan__choice__PvrVh",plan__choice__sale:"Plan_plan__choice__sale__eJurm",plan__variant:"Plan_plan__variant__1iTaC",isSelected:"Plan_isSelected__igQ9P",plan__btn:"Plan_plan__btn__4kaia",plan__subscription:"Plan_plan__subscription__NdEEY","plan__color--text":"Plan_plan__color--text__saIPd",plan__active:"Plan_plan__active__TVXh5",plan__description:"Plan_plan__description__IKfUA",plan__selection:"Plan_plan__selection__JbuZi",plan__subscription__btn:"Plan_plan__subscription__btn__RnYJR",plan__subscription__text:"Plan_plan__subscription__text__byHWA",plan__info__image:"Plan_plan__info__image__xCbcg"}},3351:function(e){e.exports={card:"ProfileCard_card__P5DpF",card__info:"ProfileCard_card__info__i9JAw",card__profile:"ProfileCard_card__profile__uOzSb",card__title:"ProfileCard_card__title__0xf3h",card__edit:"ProfileCard_card__edit__7tWRT",card__name:"ProfileCard_card__name__S4sFj",card__storage:"ProfileCard_card__storage__LBymB","card__drive--storage":"ProfileCard_card__drive--storage__UutAs","card__drive--storage__text":"ProfileCard_card__drive--storage__text__j9uEs","card__drive--storage__progress":"ProfileCard_card__drive--storage__progress__IW2iL","card__drive--storage__info":"ProfileCard_card__drive--storage__info__QXmpu","card__drive--storage__icon":"ProfileCard_card__drive--storage__icon__ZWoeP","card__games--info":"ProfileCard_card__games--info__Dqvnz",isTablet:"ProfileCard_isTablet__1G1na","card__games--info__item":"ProfileCard_card__games--info__item__aaw_M","card__games--info__title":"ProfileCard_card__games--info__title__E_nXk","card__games--info__text":"ProfileCard_card__games--info__text__wc5uy"}},4923:function(e){e.exports={settings:"Settings_settings__x9bAj",settings__title:"Settings_settings__title__4GsVS",settings__params:"Settings_settings__params__Wibe8",settings__params__title:"Settings_settings__params__title__zZAAN",settings__slider:"Settings_settings__slider__k6acL",settings__slider__slide:"Settings_settings__slider__slide__V9QPV",settings__slider__text:"Settings_settings__slider__text__lh2uy",settings__slider__pagination:"Settings_settings__slider__pagination__O1Ovz",settings__slider__nav:"Settings_settings__slider__nav__rzVXB",isNext:"Settings_isNext__X9yzn"}},4685:function(e){e.exports={block:"RequirementBlock_block__MTzY3",block__number:"RequirementBlock_block__number__C_01r",block__card:"RequirementBlock_block__card__Ba1UF",block__title:"RequirementBlock_block__title__6u2zj",block__text:"RequirementBlock_block__text__WX4xm"}},8299:function(e){e.exports={wrapper:"SetupPage_wrapper__yaXUZ",wrapper__setup:"SetupPage_wrapper__setup__7JLId","wrapper__setup--title":"SetupPage_wrapper__setup--title__dbZ3e","wrapper__setup--info":"SetupPage_wrapper__setup--info__Ohb0V","wrapper__setup--info__title":"SetupPage_wrapper__setup--info__title__uZW2R","wrapper__setup--info__text":"SetupPage_wrapper__setup--info__text__lWYLw","wrapper__setup--info__list":"SetupPage_wrapper__setup--info__list__qNUy2",wrapper__configure:"SetupPage_wrapper__configure__3HO8b",wrapper__configure__image:"SetupPage_wrapper__configure__image__fcXuF",wrapper__validate:"SetupPage_wrapper__validate__Batjv",wrapper__validate__text:"SetupPage_wrapper__validate__text__5Lwk8",wrapper__validate__image:"SetupPage_wrapper__validate__image__RCq2S",isOpen:"SetupPage_isOpen__rTtsT"}},6582:function(e){e.exports={wrapper:"UIKitExplorerPage_wrapper__bzk0X",icon:"UIKitExplorerPage_icon__onhtP",modal:"UIKitExplorerPage_modal__joz52"}},6936:function(e){e.exports={item:"GameBigItem_item___OUSV","item__picture-corner":"GameBigItem_item__picture-corner__BY8_H",left:"GameBigItem_left__sRV6J",selected:"GameBigItem_selected__Xs89U",right:"GameBigItem_right__5UXOL",item__picture:"GameBigItem_item__picture__TJjwz",item__title:"GameBigItem_item__title__Clh2D",item__info:"GameBigItem_item__info__3Is85",item__image:"GameBigItem_item__image__RK_Qi",item__device:"GameBigItem_item__device__Tqe8c",item__btn:"GameBigItem_item__btn__3Z30A",item__icon:"GameBigItem_item__icon__dKpIq"}},8219:function(e){e.exports={item:"GameItem_item__FNmRK",item__content:"GameItem_item__content__KO2od",selected:"GameItem_selected__1tPqw",item__image:"GameItem_item__image__Wpj_v",item__notes:"GameItem_item__notes__70CZQ",item__device:"GameItem_item__device__iby3W",item__info:"GameItem_item__info__o3poT",item__title:"GameItem_item__title__ileOE",item__status:"GameItem_item__status__tle_8",error:"GameItem_error__hi_BF",success:"GameItem_success__whfaM"}},9085:function(e){e.exports={wrapper:"GetStarted_wrapper__3trlD",wrapper__info:"GetStarted_wrapper__info__wSD_N",wrapper__title:"GetStarted_wrapper__title__ynP8p",wrapper__text:"GetStarted_wrapper__text__sBjJQ"}}}]);