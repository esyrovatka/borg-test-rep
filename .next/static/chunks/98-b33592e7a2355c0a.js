(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{5082:function(e,t,a){"use strict";var i,n=a(4410);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",r({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=n.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.667 14.198c0 .295 0 .442.014.57.115 1.065.93 1.944 2.032 2.193.133.03.287.05.597.089l5.86.738c1.667.21 2.501.315 3.149.072a2.63 2.63 0 0 0 1.34-1.109c.341-.574.341-1.369.341-2.958V6.207c0-1.59 0-2.384-.34-2.958a2.63 2.63 0 0 0-1.341-1.109c-.648-.243-1.482-.138-3.15.072l-5.86.738c-.309.04-.463.059-.596.089C5.61 3.288 4.796 4.167 4.68 5.23c-.014.128-.014.276-.014.57m5.333.84L13.556 10m0 0L10 13.358M13.556 10H2"})))}},8832:function(e,t,a){"use strict";var i,n=a(4410);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",r({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=n.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.444 5.358 2 10m0 0 4.444 4.642M2 10h10.667M10 5.358c0-.274 0-.411.01-.53.101-1.235.972-2.252 2.137-2.494.112-.023.242-.038.503-.068l.908-.106c1.364-.158 2.046-.237 2.588-.056a2.7 2.7 0 0 1 1.622 1.516C18 4.162 18 4.879 18 6.312v7.376c0 1.433 0 2.15-.232 2.692a2.7 2.7 0 0 1-1.622 1.516c-.542.181-1.224.102-2.588-.056l-.908-.106c-.26-.03-.391-.045-.503-.068-1.165-.242-2.036-1.259-2.137-2.494-.01-.119-.01-.256-.01-.53"})))}},8665:function(e,t,a){"use strict";var i,n=a(4410);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",r({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=n.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.366 1.667h9.258c2.967 0 3.709.741 3.709 3.7v5.275c0 2.966-.742 3.7-3.7 3.7H5.366c-2.958.008-3.7-.734-3.7-3.692V5.367c0-2.959.742-3.7 3.7-3.7M10 14.35v3.983M1.666 10.833h16.667M6.25 18.333h7.5"})))}},5044:function(e,t,a){"use strict";a.d(t,{ju:function(){return y},OJ:function(){return c},bD:function(){return l},q0:function(){return _},K3:function(){return m},sv:function(){return u},du:function(){return d},zV:function(){return v},Qg:function(){return o},Li:function(){return b}});var i=a(9753);let n=[{id:998,title:"Factorio (demo)",poster_src:"/assets/img/factorio-cover.webp",availableDevice:["keyboard"]},{id:997,title:"Minecraft",poster_src:"/assets/img/minecraft.webp",availableDevice:["keyboard"]},{id:999,title:"Factorio",poster_src:"/assets/img/factorio-cover.webp",availableDevice:["keyboard"]},{id:1,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_item_1.webp",availableDevice:["keyboard"]},{id:2,title:"Phasmophobia",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["keyboard"]},{id:3,title:"Left 4 Dead 2",poster_src:"/assets/img/cover_game_item_3.webp",availableDevice:["touch"]},{id:4,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_item_1.webp",availableDevice:["keyboard"]},{id:5,title:"Phasmophobia",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["keyboard"]},{id:6,title:"Left 4 Dead 2",poster_src:"/assets/img/cover_game_item_3.webp",availableDevice:["touch"]},{id:7,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_item_1.webp",availableDevice:["keyboard"]},{id:8,title:"Phasmophobia",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["keyboard"]},{id:9,title:"Left 4 Dead 2",poster_src:"/assets/img/cover_game_item_3.webp",availableDevice:["touch"]}],r=[{id:1,title:"BigFoot",poster_src:"/assets/img/cover_game_item_4.webp",availableDevice:["keyboard"]},{id:2,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:3,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["touch"]},{id:4,title:"BigFoot",poster_src:"/assets/img/cover_game_item_4.webp",availableDevice:["keyboard"]},{id:5,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:6,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["touch"]},{id:7,title:"BigFoot",poster_src:"/assets/img/cover_game_item_4.webp",availableDevice:["keyboard"]},{id:8,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:9,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["touch"]},{id:10,title:"BigFoot",poster_src:"/assets/img/cover_game_item_4.webp",availableDevice:["keyboard"]},{id:11,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:12,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["touch"]}],o=[{id:1,title:"BigFoot",poster_src:"/assets/img/cover_game_item_1.webp",availableDevice:["keyboard"]},{id:2,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["keyboard"]},{id:3,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_3.webp",availableDevice:["touch"]},{id:4,title:"BigFoot",poster_src:"/assets/img/cover_game_item_4.webp",availableDevice:["keyboard"]},{id:5,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:6,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["touch"]},{id:7,title:"BigFoot",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["keyboard"]},{id:8,title:"Shop Titans",poster_src:"/assets/img/cover_game_item_6.webp",availableDevice:["keyboard"]},{id:9,title:"Half-Life: Alyx",poster_src:"/assets/img/cover_game_item_1.webp",availableDevice:["touch"]},{id:10,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_item_3.webp",availableDevice:["keyboard"]},{id:11,title:"Phasmophobia",poster_src:"/assets/img/cover_game_item_5.webp",availableDevice:["keyboard"]},{id:12,title:"Left 4 Dead 2",poster_src:"/assets/img/cover_game_item_2.webp",availableDevice:["touch"]}],s=[{id:1,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:2,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:3,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:4,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:5,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:6,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:7,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:8,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:9,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:10,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:11,title:"Baldur`s Gate 3",poster_src:"/assets/img/cover_game_big_item_1.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"},{id:12,title:"Hogwarts Legacy",poster_src:"/assets/img/cover_game_big_item_2.webp",availableDevice:["keyboard"],lastPlayData:"11/28/2023"}],{reducer:l,actions:c}=(0,i.oM)({name:"games",initialState:{gamesPlatform:{steam:{connect:!1,games:[],logo:"/assets/img/steam.webp",logoConnect:"/assets/icons/steam_logo.svg"},gog:{connect:!1,games:[],logo:"/assets/icons/gog_com_logo.svg",logoConnect:"/assets/icons/steam_logo.svg"},epic:{connect:!1,games:[],logo:"/assets/icons/Epic_Games_logo.svg",logoConnect:"/assets/icons/steam_logo.svg"}},mostPopularGames:n,newlyAddedGames:r,immediatelyAvailableGames:o,recentlyPlayedGames:s},reducers:{connectSteam:(e,t)=>{e.gamesPlatform.steam.connect=!0,e.gamesPlatform.steam.games=t.payload},disconnectSteam:e=>{e.gamesPlatform.steam.connect=!1,e.gamesPlatform.steam.games=[]},filterGames:(e,t)=>{let a=e=>e.title.toLowerCase().includes(t.payload.toLowerCase()),i=n.filter(a),l=r.filter(a),c=o.filter(a),_=s.filter(a);e.mostPopularGames=i,e.newlyAddedGames=l,e.immediatelyAvailableGames=c,e.recentlyPlayedGames=_}}}),_=e=>null==e?void 0:e.games.gamesPlatform,u=e=>null==e?void 0:e.games.mostPopularGames,d=e=>null==e?void 0:e.games.newlyAddedGames,m=e=>null==e?void 0:e.games.immediatelyAvailableGames,v=e=>null==e?void 0:e.games.recentlyPlayedGames;var g=a(5485),h=a(8472),p=a(4628),f=a(357);let b=async e=>{let t=new g.L(p.D);await t.initialize();let a=t.getAllAccounts();if(a.length>0){let i={scopes:p.x,account:a[0]};try{let a=await t.acquireTokenSilent(i),n=JSON.stringify({steam_id:e});await h.Z.put("".concat(f.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/root:/Borg/user.txt:/content"),n,{headers:{Authorization:"Bearer ".concat(a.accessToken),"Content-Type":"application/json"}})}catch(e){throw Error()}}else throw Error()};var w=a(357);let y=(0,i.hg)("games/disconnectSteam",async(e,t)=>{let{dispatch:a}=t,i=new g.L(p.D);await i.initialize();let n=i.getAllAccounts();if(n.length>0){let e={scopes:p.x,account:n[0]};try{let t=await i.acquireTokenSilent(e),n=JSON.stringify({steam_id:null});await h.Z.put("".concat(w.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/root:/Borg/user.txt:/content"),n,{headers:{Authorization:"Bearer ".concat(t.accessToken),"Content-Type":"application/json"}}),a(c.disconnectSteam())}catch(e){throw Error()}}else throw Error()})},4799:function(e,t,a){"use strict";a.d(t,{OA:function(){return r},Xe:function(){return n},pB:function(){return i},ns:function(){return s},oH:function(){return o}});let i=e=>{var t;return null==e?void 0:null===(t=e.keyboard)||void 0===t?void 0:t.isNavBar},n=e=>{var t;return null==e?void 0:null===(t=e.keyboard)||void 0===t?void 0:t.isHeaderSearch},r=e=>{var t;return null==e?void 0:null===(t=e.keyboard)||void 0===t?void 0:t.isDisabledPageNavigate},{reducer:o,actions:s}=(0,a(9753).oM)({name:"KeyboardSlice",initialState:{isNavBar:!1,isHeaderSearch:!1,isDisabledPageNavigate:!1},reducers:{onChangeIsNavBar:e=>{e.isNavBar=!e.isNavBar},onChangeIsHeaderSearch:e=>{e.isHeaderSearch=!e.isHeaderSearch},onDisabledPageNavigate:(e,t)=>{e.isDisabledPageNavigate=t.payload}}})},5170:function(e,t,a){"use strict";a.d(t,{A3:function(){return n},ph:function(){return i},tm:function(){return o},D:function(){return r}});let i=e=>null==e?void 0:e.navBar.isOpen,n=e=>null==e?void 0:e.navBar.isLoginModalOpen,{reducer:r,actions:o}=(0,a(9753).oM)({name:"NavBarSlice",initialState:{isOpen:!0,isLoginModalOpen:!1},reducers:{toggleOpenNavBar:e=>{e.isOpen=!e.isOpen},onOpenLoginModal:e=>{e.isLoginModalOpen=!0},onCloseLoginModal:e=>{e.isLoginModalOpen=!1}}})},1887:function(e,t,a){"use strict";a.d(t,{ph:function(){return s},Gt:function(){return r},ZY:function(){return i},zk:function(){return n},UB:function(){return u},vv:function(){return _}});let i=e=>null==e?void 0:e.stream.streamElement,n=e=>null==e?void 0:e.stream.status,r=e=>null==e?void 0:e.stream.connection;var o,s,l=a(9753);(o=s||(s={})).OK="ok",o.POOR="poor";let c={videoContainer:null,streamElement:null,status:"",connection:s.OK},{reducer:_,actions:u}=(0,l.oM)({name:"StreamSlice",initialState:c,reducers:{selectStreamElement:(e,t)=>({...e,streamElement:t.payload}),changeStatus:(e,t)=>({...e,status:t.payload}),onChangeConnection:(e,t)=>{e.connection=t.payload}}})},9688:function(e,t,a){"use strict";a.d(t,{ts:function(){return f},yV:function(){return i},x4:function(){return b},kS:function(){return w},FH:function(){return n},hI:function(){return x},M3:function(){return y}});let i=e=>null==e?void 0:e.user.userData,n=e=>null==e?void 0:e.user.isLoading;var r,o,s=a(5485),l=a(9753),c=a(4628),_=a(8472),u=a(357),d=a(6300).Buffer;let m=async(e,t)=>{try{let{data:a}=await _.Z.get("".concat(u.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"photo/$value"),{headers:{Authorization:"Bearer ".concat(e)},responseType:"arraybuffer"}),i="data:image/jpeg;base64,".concat(d.from(a,"binary").toString("base64"));t.avatarUrl=i}catch(e){t.avatarUrl="/assets/img/user_avatar.webp"}},v=async(e,t)=>{try{let{data:a}=await _.Z.get("".concat(u.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL),{headers:{Authorization:"Bearer ".concat(e)}});t.displayName=a.displayName}catch(e){console.error(e)}},g=async(e,t)=>{try{let{data:a}=await _.Z.get("".concat(u.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive"),{headers:{Authorization:"Bearer ".concat(e)}}),i=(a.quota.total/1048576).toFixed(1),n=(a.quota.used/1048576).toFixed(1);t.totalMBSpace=Number(i),t.usedMBSpace=Number(n)}catch(e){console.error(e)}},h=async e=>{try{let t=(await _.Z.get("".concat(u.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/root/children"),{headers:{Authorization:"Bearer ".concat(e)}})).data.value.find(e=>e.folder&&"Borg"===e.name);try{let a=(await _.Z.get("".concat(u.env.NEXT_PUBLIC_ONE_DRIVE_BASE_URL,"drive/items/").concat(t.id,"/children"),{headers:{Authorization:"Bearer ".concat(e)}})).data.value.find(e=>!e.folder&&"user.txt"===e.name);try{let{data:e}=await _.Z.get(a["@microsoft.graph.downloadUrl"]);return e.steam_id}catch(e){throw Error()}}catch(e){throw Error()}}catch(e){return console.error("steam not connect "),null}},p=async e=>{let t={};await v(e,t),await m(e,t),await g(e,t);let a=await h(e);return a&&(t.steam_id=a),t};(r=o||(o={})).UNAUTHORIZED="UNAUTHORIZED",r.UNEXPECTED_ERROR="UNEXPECTED_ERROR";let f=(0,l.hg)("user/getCurrentUser",async(e,t)=>{let{rejectWithValue:a}=t,i=new s.L(c.D);await i.initialize();let n=i.getAllAccounts();if(!(n.length>0))return a(o.UNAUTHORIZED);{let e={scopes:c.x,account:n[0]};try{let{accessToken:t}=await i.acquireTokenSilent(e);return localStorage.setItem("token",t),p(t)}catch(e){return localStorage.removeItem("token"),a(o.UNAUTHORIZED)}}}),b=(0,l.hg)("user/login",async(e,t)=>{let{rejectWithValue:a}=t,i=new s.L(c.D);await i.initialize();let n=await i.loginPopup({scopes:c.x,redirectUri:window.location.origin}),r={scopes:c.x,account:n.account};try{let{accessToken:e}=await i.acquireTokenSilent(r);return localStorage.setItem("token",e),p(e)}catch(e){return a(o.UNAUTHORIZED)}}),w=(0,l.hg)("user/logout",async(e,t)=>{let{dispatch:a}=t,i=new s.L(c.D);await i.initialize(),await i.logoutPopup(),localStorage.removeItem("token"),a(x.logout())}),{reducer:y,actions:x}=(0,l.oM)({name:"user",initialState:{isLoading:!0,error:void 0,userData:void 0,_inited:!1},reducers:{setUserData:(e,t)=>{e.userData=t.payload},logout:e=>{e.userData=void 0}},extraReducers:e=>{e.addCase(f.pending,e=>{e.error=void 0,e.isLoading=!0}).addCase(f.fulfilled,(e,t)=>{e.isLoading=!1,e.userData=t.payload,e._inited=!0}).addCase(f.rejected,(e,t)=>{e.error=t.payload,e.isLoading=!1,e._inited=!0}).addCase(b.pending,e=>{e.error=void 0,e.isLoading=!0}).addCase(b.fulfilled,(e,t)=>{e.isLoading=!1,e.userData=t.payload}).addCase(b.rejected,(e,t)=>{e.error=t.payload,e.isLoading=!1})}})},4628:function(e,t,a){"use strict";a.d(t,{D:function(){return i},x:function(){return n}});let i={auth:{clientId:a(357).env.NEXT_PUBLIC_MS_CLIENT_ID,authority:"https://login.microsoftonline.com/consumers"}},n=["user.read","files.readwrite.appfolder","openid","profile","offline_access"]},5822:function(e,t,a){"use strict";a.d(t,{Nr:function(){return c},J2:function(){return _},b8:function(){return d},xk:function(){return l},iP:function(){return m}});var i,n,r,o,s=a(2265);let l=()=>{let[e,t]=(0,s.useState)(!1);return{isModalOpen:e,onCloseModal:()=>t(!1),onOpenModal:()=>t(!0),onToggleModal:()=>t(e=>!e)}};function c(e,t){let a=(0,s.useRef)(null);return(0,s.useCallback)(function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{e(...n)},t)},[e,t])}var _=()=>{(0,s.useEffect)(()=>{let e=e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[])};(i=r||(r={})).UP="up",i.DOWN="down",i.LEFT="left",i.RIGHT="right",i.DEFAULT="center",(n=o||(o={}))[n.DOWN=13]="DOWN",n[n.LEFT=14]="LEFT",n[n.RIGHT=15]="RIGHT",n[n.UP=12]="UP",n[n.ENTER=0]="ENTER",n[n.ESCAPE=1]="ESCAPE";var u=()=>{let[e,t]=(0,s.useState)(null),[a,i]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[o,l]=(0,s.useState)(!1),c=(0,s.useRef)(),_=(0,s.useRef)(),u=(0,s.useCallback)(()=>{if(!e)return;let t=navigator.getGamepads()[0],a=null==t?void 0:t.buttons.map(e=>e.pressed),n=null==t?void 0:t.axes;JSON.stringify(a)!==JSON.stringify(c.current)&&(i(a),c.current=a),JSON.stringify(n)!==JSON.stringify(_.current)&&(r(n),_.current=n)},[e]),d=(0,s.useCallback)(e=>{t(e.gamepad)},[]),m=()=>{t(null)};return(0,s.useEffect)(()=>(window.addEventListener("gamepadconnected",d),window.addEventListener("gamepaddisconnected",m),()=>{window.removeEventListener("gamepadconnected",d),window.removeEventListener("gamepaddisconnected",m)}),[d]),(0,s.useEffect)(()=>{let t;return e&&(t=setInterval(u,100)),()=>clearInterval(t)},[e,u]),{buttons:a,axes:n,gamepad:e}},d=e=>{let{arrowUpAction:t,arrowDownAction:a,arrowLeftAction:i,arrowRightAction:n,enterAction:l,escapeAction:c}=e,{buttons:_,axes:d,gamepad:m}=u(),v=(0,s.useCallback)(()=>{null==t||t()},[t]),g=(0,s.useCallback)(()=>{null==a||a()},[a]),h=(0,s.useCallback)(()=>{null==i||i()},[i]),p=(0,s.useCallback)(()=>{null==n||n()},[n]),f=(0,s.useCallback)(()=>{null==l||l()},[l]),b=(0,s.useCallback)(()=>{null==c||c()},[c]),w=(0,s.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),v();break;case"ArrowDown":e.preventDefault(),g();break;case"ArrowLeft":e.preventDefault(),h();break;case"ArrowRight":e.preventDefault(),p();break;case"Enter":e.preventDefault(),f();break;case"Escape":e.preventDefault(),b()}},[g,h,p,v,f,b]);(0,s.useEffect)(()=>(document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}),[w]),(0,s.useEffect)(()=>{(null==_?void 0:_.length)&&_.forEach((e,t)=>{e&&(t===o.DOWN&&g(),t===o.LEFT&&h(),t===o.RIGHT&&p(),t===o.UP&&v(),t===o.ENTER&&f(),t===o.ESCAPE&&b())})},[_]);let y=(e,t)=>{if(0===t){if(e<-.5)return r.LEFT;if(e>.5)return r.RIGHT}else if(1===t){if(e<-.5)return r.UP;if(e>.5)return r.DOWN}return r.DEFAULT};return(0,s.useEffect)(()=>{(null==d?void 0:d.length)&&d.forEach((e,t)=>{let a=y(e,t);a!==r.DEFAULT&&(a===r.LEFT&&h(),a===r.UP&&v(),a===r.DOWN&&g(),a===r.RIGHT&&p())})},[d]),{gamepad:m}},m=()=>{let[e,t]=(0,s.useState)({width:0,height:0});return(0,s.useLayoutEffect)(()=>{t({width:window.innerWidth,height:window.innerHeight});let e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},2424:function(e,t,a){"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[e,...a.filter(Boolean),...Object.entries(t).filter(e=>{let[t,a]=e;return!!a}).map(e=>{let[t]=e;return t})].join(" ")}a.d(t,{AK:function(){return i},LR:function(){return p},wm:function(){return r},$f:function(){return h},n:function(){return d},TL:function(){return v},CG:function(){return g},Nr:function(){return n.Nr},J2:function(){return n.J2},xk:function(){return n.xk}});var n=a(5822);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return"".concat(e,"-").concat((Math.random()*10**t).toFixed())}var o=a(9753),s=a(5044),l=a(4799),c=a(5170),_=a(1887),u=a(9688);let d=()=>(0,o.xC)({reducer:{navBar:c.D,user:u.M3,games:s.bD,stream:_.vv,keyboard:l.oH}});var m=a(1444);let v=m.I0,g=m.v9,h=async(e,t)=>{let a=localStorage.getItem("token");if(!a)throw Error("Not logged in");return t||(t={}),t.headers=new Headers(t.headers),t.headers.set("Authorization","Bearer ".concat(a)),e.startsWith("https://")||(e="https://graph.microsoft.com/v1.0/me/drive/".concat(e)),await fetch(e,t)},p=async e=>{if(e.endsWith(":/content"))throw RangeError();let t=await h("".concat(e,"?select=id,@microsoft.graph.downloadUrl"));if(404===t.status)return null;if(!t.ok)throw Error("Failed to download ".concat(e,": ").concat(t.status,": ").concat(t.statusText));let a=(await t.json())["@microsoft.graph.downloadUrl"];return await fetch(a)}},5713:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=a(7437),n=a(2424),r=a(7483),o=a.n(r);let s=e=>{let{className:t,children:a,size:r="initial",color:s="white",weight:l="four",tag:c="p",..._}=e;switch(!0){case"h1"===c:return(0,i.jsx)("h1",{className:(0,n.AK)(o().text,{},[t,o()[r],o()[s],o()[l]]),..._,children:a});case"h2"===c:return(0,i.jsx)("h2",{className:(0,n.AK)(o().text,{},[t,o()[r],o()[s],o()[l]]),..._,children:a});case"h3"===c:return(0,i.jsx)("h3",{className:(0,n.AK)(o().text,{},[t,o()[r],o()[s],o()[l]]),..._,children:a});case"h4"===c:return(0,i.jsx)("h4",{className:(0,n.AK)(o().text,{},[t,o()[r],o()[s],o()[l]]),..._,children:a});case"p"===c:return(0,i.jsx)("p",{className:(0,n.AK)(o().text,{},[t,o()[r],o()[s],o()[l]]),..._,children:a});default:return null}}},3765:function(e,t,a){"use strict";a.d(t,{Hj:function(){return S},zx:function(){return D},Zb:function(){return T},II:function(){return Z},u_:function(){return Q},KM:function(){return Y},ZT:function(){return _.Z}});var i,n,r,o,s,l,c,_=a(5713),u=a(7437),d=a(6648),m=a(7138),v=a(6463),g=a(2265),h=a(4410);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var f=function(e){return h.createElement("svg",p({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=h.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M22 2 2 22M2 2l20 20"})))},b=a(5082),w=a(8832);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var x=function(e){return h.createElement("svg",y({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),n||(n=h.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h12M3 6h18M3 18h18"})))},A=a(6998),k=a(5170),j=a(9688),N=a(2424),B=a(4933),E=a.n(B);let D=e=>{let{children:t,variant:a="outlined",color:i="white",className:n,isDisabled:r=!1,...o}=e;return(0,u.jsx)("button",{className:(0,N.AK)(E().btn,{[E().disabled]:r},[n,E()[a],E()[i]]),disabled:r,...o,children:t})};var L=a(1462),O=a.n(L);let S=e=>{let{className:t}=e,a=(0,N.TL)(),[i,n]=(0,g.useState)(!1),r=()=>n(e=>!e),o=(0,v.usePathname)(),s=(0,N.CG)(j.yV);return(0,g.useEffect)(()=>{n(!1)},[o]),(0,u.jsxs)("div",{className:(0,N.AK)(O().menu,{},[t]),children:[i?(0,u.jsx)(f,{className:O().menu__icon,onClick:r}):(0,u.jsx)(x,{className:O().menu__icon,onClick:r}),(0,u.jsxs)("div",{className:(0,N.AK)(O().menu__content,{[O().isVisible]:i}),children:[(0,u.jsxs)("div",{className:O().menu__nav,children:[A.F.map(e=>(0,u.jsxs)(m.default,{href:e.href,className:(0,N.AK)(O()["menu__nav--item"],{[O().isStroke]:e.isStroke,[O().isActive]:e.href===o}),children:[(0,u.jsx)("div",{className:O()["menu__nav--item__icon"],children:e.icon}),(0,u.jsx)(_.Z,{className:O()["menu__nav--item__label"],children:e.label})]},"burger-menu-link-".concat(e.id))),(0,u.jsx)("div",{})]}),(0,u.jsxs)("div",{className:O().menu__profile,children:[(0,u.jsx)(d.default,{src:"/assets/img/nav_shadow.webp",alt:"shadow",height:150,width:150,className:O().menu__profile__shadow}),s?(0,u.jsxs)("div",{className:O()["menu__profile--info"],children:[(0,u.jsx)("div",{className:O().menu__logout,children:(0,u.jsxs)(D,{variant:"clear",className:O()["menu__profile-login"],onClick:()=>a((0,j.kS)()),children:[(0,u.jsx)(w.Z,{}),(0,u.jsx)(_.Z,{color:"gray",weight:"five",className:O().text,children:"Log out"})]})}),(0,u.jsx)(m.default,{href:"/profile",children:(0,u.jsx)(d.default,{className:O()["menu__profile--info__avatar"],src:s.avatarUrl,alt:"avatar",width:48,height:48})}),(0,u.jsxs)("div",{className:O()["menu__profile--info__block"],children:[(0,u.jsx)(_.Z,{className:O()["menu__profile--info__name"],children:s.displayName}),(0,u.jsx)("progress",{className:O()["menu__profile--info__progress"],max:s.totalMBSpace,value:s.usedMBSpace}),(0,u.jsxs)(_.Z,{className:O()["menu__profile--info__size"],color:"secondary",weight:"five",children:[s.usedMBSpace,"mb"]})]})]}):(0,u.jsxs)(D,{variant:"clear",className:O().menu__profile__login,onClick:()=>a(k.tm.onOpenLoginModal()),children:[(0,u.jsx)(b.Z,{className:O().menu__profile__icon}),"Log in"]})]})]})]})};var M=a(6747),C=a.n(M);let T=e=>{let{children:t,className:a}=e;return(0,u.jsx)("div",{className:(0,N.AK)(C().card,{},[a]),children:t})};function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var I=function(e){return h.createElement("svg",P({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=h.createElement("path",{stroke:"#606060",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.017 10.594c-.114-.18-.17-.27-.202-.408a1 1 0 0 1 0-.372c.032-.139.088-.229.202-.408.938-1.485 3.73-5.24 7.983-5.24 4.255 0 7.046 3.755 7.984 5.24.113.18.17.27.202.408a1 1 0 0 1 0 .372c-.032.139-.089.229-.202.408-.938 1.485-3.73 5.24-7.984 5.24s-7.045-3.755-7.983-5.24"})),o||(o=h.createElement("path",{stroke:"#606060",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"})))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var R=function(e){return h.createElement("svg",H({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),s||(s=h.createElement("path",{stroke:"#606060",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.952 4.244q.51-.076 1.048-.077c4.255 0 7.046 3.754 7.984 5.239.113.18.17.27.202.408a1 1 0 0 1 0 .372c-.032.139-.089.23-.203.41-.25.396-.631.952-1.136 1.554M5.604 5.596c-1.802 1.222-3.025 2.92-3.586 3.808-.114.18-.171.271-.203.41a1 1 0 0 0 0 .372c.032.139.088.229.202.408.938 1.485 3.73 5.24 7.983 5.24 1.716 0 3.193-.611 4.407-1.437M2.5 2.5l15 15M8.233 8.232a2.5 2.5 0 0 0 3.536 3.536"})))},U=a(7702),G=a.n(U);let Z=(0,g.forwardRef)((e,t)=>{let{type:a="text",label:i,isDisabled:n=!1,className:r,error:o,value:s,onChange:l,name:c,withEdit:_,icon:d,...m}=e,v=(0,g.useRef)();(0,g.useEffect)(()=>{v.current=(0,N.wm)("input")},[]);let h=(0,N.AK)(G().container,{[G().incorrect]:o,[G().disabled]:n}),[p,f]=(0,g.useState)(a);return(0,u.jsxs)("div",{className:h,children:[i&&(0,u.jsxs)("label",{htmlFor:v.current,className:G().label,children:[i,_&&(0,u.jsx)(D,{variant:"clear",className:G().edit,children:"Edit"})]}),(0,u.jsxs)("div",{className:G().inputContainer,children:[d&&(0,u.jsx)("div",{className:(0,N.AK)(G().icon,{},[G().start]),children:d}),(0,u.jsx)("input",{id:v.current,ref:t,onChange:e=>l(e.target.value,c||""),value:s,type:p,className:(0,N.AK)(G().input,{[G().withIcon]:!!d},[r]),...m}),"password"===a&&(0,u.jsx)(D,{variant:"clear",onClick:()=>{"text"===p&&f("password"),"password"===p&&f("text")},className:(0,N.AK)(G().icon,{},[G().end]),children:"password"===p?(0,u.jsx)(I,{}):(0,u.jsx)(R,{})})]}),!!o&&(0,u.jsx)("p",{className:G().error,children:o})]})});function z(){return(z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var V=function(e){return h.createElement("svg",z({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),l||(l=h.createElement("g",{fill:"#E02B1D",fillRule:"evenodd",clipPath:"url(#clip0_3263_28319)",clipRule:"evenodd"},h.createElement("path",{d:"M18.055 1.945a.95.95 0 0 1 0 1.342L3.287 18.055a.95.95 0 1 1-1.342-1.342L16.713 1.945a.95.95 0 0 1 1.342 0"}),h.createElement("path",{d:"M1.945 1.945a.95.95 0 0 1 1.342 0l14.768 14.768a.95.95 0 0 1-1.342 1.342L1.945 3.287a.95.95 0 0 1 0-1.342"}))),c||(c=h.createElement("defs",null,h.createElement("clipPath",{id:"clip0_3263_28319"},h.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})))))},K=a(4887);let F=e=>{let{children:t,element:a=document.body}=e;return(0,K.createPortal)(t,a)};var W=a(4908),J=a.n(W);let Q=e=>{let{className:t,children:a,isOpen:i,onClose:n}=e,[r,o]=(0,g.useState)(!1),[s,l]=(0,g.useState)(!1),[c,_]=(0,g.useState)(!1);(0,g.useEffect)(()=>{i&&!c?(o(!0),_(!0),setTimeout(()=>{o(!1)},300)):!i&&c&&(l(!0),setTimeout(()=>{l(!1),_(!1)},300))},[i,c]),(0,g.useEffect)(()=>{let e=e=>"Escape"===e.key&&n();return window.addEventListener("keydown",e),()=>{window.addEventListener("keydown",e)}},[n]);let d={[J().isOpen]:c,[J().isClosing]:s,[J().isOpening]:r};return c?(0,u.jsx)(F,{children:(0,u.jsx)("div",{className:(0,N.AK)(J().Modal,d),children:(0,u.jsx)("div",{className:J().overlay,onClick:n,children:(0,u.jsxs)("div",{className:(0,N.AK)(J().content,{},[t]),onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("div",{className:J().cross,onClick:n,children:(0,u.jsx)(V,{})}),a]})})})}):null};var X=a(3166),q=a.n(X);let Y=e=>{let{children:t,variant:a="fill",className:i,isDisabled:n=!1,...r}=e;return(0,u.jsxs)("button",{className:(0,N.AK)(q().btn,{[q().disabled]:n},[i,q()[a]]),...r,children:[t,(0,u.jsx)("div",{className:(0,N.AK)(q().corner,{},[q().left])}),(0,u.jsx)("div",{className:(0,N.AK)(q().corner,{},[q().right])})]})};a(1441)},5098:function(e,t,a){"use strict";a.d(t,{default:function(){return el}});var i,n,r,o,s,l,c,_=a(7437),u=a(2265),d=a(5170),m=a(2424),v=a(3765),g=a(5885),h=a.n(g);let p=()=>{let e=(0,m.CG)(d.ph),t=new Date().getFullYear();return(0,_.jsx)("footer",{className:(0,m.AK)(h().footer,{[h().isOpen]:e}),children:(0,_.jsxs)(v.ZT,{color:"secondary",weight:"five",className:h().footer__text,children:["\xa9 Borg Queen, LLC"," ".concat(t)]})})};var f=a(6648),b=a(7138),w=a(4410);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var x=function(e){return w.createElement("svg",y({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=w.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.585 17.5a7.917 7.917 0 1 0 0-15.833 7.917 7.917 0 0 0 0 15.833M18.335 18.333l-1.667-1.666"})))},A={src:"/_next/static/media/logo.da2a6129.webp",height:1605,width:1392,blurDataURL:"data:image/webp;base64,UklGRpgAAABXRUJQVlA4WAoAAAAQAAAABgAABwAAQUxQSDkAAAAAAA5fPAcNADt8OT5wgzuQABN+G1WlikJAs5Zrlk2elLSkSlAwLJBtjmRFS1KNe4tbAwAVVn1NAAAAVlA4IDgAAACQAQCdASoHAAgAAkA4JagAApZaIcAA/vmATaEddvLBl0zIvuSN2zuw64f//6yv//mV//8yv93YAA==",blurWidth:7,blurHeight:8},k={src:"/_next/static/media/logo_shadow.4d7e3b31.webp",height:180,width:370,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAwAAQUxQSCEAAAAAIikoIBQJAwAhJyYeEwkCABgdHRYOBgIADxISDQgEAQAAVlA4IDQAAADQAQCdASoIAAQAAkA4JbACdAEO/gOOAAD+6ofQ30ZCj9/9r70d//U+nK//q+9HfM1XJwAA",blurWidth:8,blurHeight:4};a(6509),a(8465);var j=a(3239),N=a.n(j);let B=e=>{let{value:t,onChange:a}=e,[i,n]=(0,u.useState)(!1),r=(0,u.useRef)(null);return(0,u.useEffect)(()=>{r.current&&(r.current.disabled=!1,r.current.focus())},[i]),(0,_.jsx)("div",{className:N().search,children:i?(0,_.jsx)(v.II,{ref:r,className:N().mobileSearch__input,onBlur:()=>{n(!1),r.current&&(r.current.disabled=!0)},value:t,onChange:a,icon:(0,_.jsx)(x,{})}):(0,_.jsx)(v.zx,{variant:"clear",onClick:()=>n(!0),className:N().mobileSearch__icon,children:(0,_.jsx)(x,{})})})};var E=a(6463),D=a(5044),L=a(4799),O=a(5822),S=()=>{let e=(0,E.usePathname)(),t=(0,m.TL)(),a=(0,m.CG)(d.ph),i=(0,m.CG)(L.Xe),[n,r]=(0,u.useState)(!1),[o,s]=(0,u.useState)([]),[l,c]=(0,u.useState)(""),[_,v]=(0,u.useState)(!0),g=(0,u.useRef)(),h=(0,u.useRef)([]),{push:p}=(0,E.useRouter)(),f=(0,m.Nr)(e=>{if(t(D.OJ.filterGames(e)),e){let t=D.Qg.filter(t=>t.title.toLowerCase().includes(e.toLowerCase()));return r(!t.length),s(t)}return r(!1),s([])},2e3),[b,w]=(0,u.useState)(null),{gamepad:y}=(0,O.b8)({arrowDownAction:()=>{i&&(o.length&&b!==o.length-1?w(e=>null!==e?e+1:0):(t(L.ns.onChangeIsHeaderSearch()),r(!1),c(""),s([]),h.current=[],w(null)))},arrowUpAction:()=>{i&&w(e=>e?e-1:0)},enterAction:()=>{o.length&&null!==b&&p("/game/".concat(o[b].id))}});return(0,u.useEffect)(()=>{c(""),s([]),t(D.OJ.filterGames(""))},[t,e]),(0,u.useEffect)(()=>{v(i&&!!y)},[y,i]),(0,u.useEffect)(()=>{var e,t;i?null===(e=g.current)||void 0===e||e.focus():null===(t=g.current)||void 0===t||t.blur()},[i]),(0,u.useEffect)(()=>{b&&h.current[b]&&h.current[b].scrollIntoView({behavior:"smooth",block:"nearest"})},[b]),{isEmptySearch:n,searchResult:o,findGames:f,searchValue:l,handleChange:e=>{c(e),f(e)},isNavBarOpenOpen:a,inputRef:g,keyboardVisible:_,selectedGameIdx:b,itemRefs:h}},M=a(8447),C=a.n(M);let T=()=>{let{isEmptySearch:e,searchResult:t,searchValue:a,handleChange:i,isNavBarOpenOpen:n,inputRef:r,keyboardVisible:o,selectedGameIdx:s,itemRefs:l}=S();return(0,_.jsxs)("div",{className:(0,m.AK)(C().navBar,{[C().isOpen]:n}),children:[(0,_.jsx)(f.default,{src:k,alt:"logo",width:75,height:75,className:C().shadow}),(0,_.jsx)(f.default,{src:A,alt:"logo",width:40,height:40,className:C().logo}),(0,_.jsx)(B,{value:a,onChange:i}),(0,_.jsx)("div",{className:C().tabletSearch,children:(0,_.jsx)(v.II,{value:a,onChange:i,icon:(0,_.jsx)(x,{}),ref:r})}),(0,_.jsx)("div",{className:(0,m.AK)(C().navBar__result,{[C().isVisible]:!!t.length||e}),children:(0,_.jsxs)("div",{className:C()["navBar__result--list"],children:[e&&(0,_.jsx)("div",{className:C()["navBar__result--list__item"],children:(0,_.jsx)(v.ZT,{children:"No matching titles found"})}),t.map((e,t)=>(0,_.jsxs)(b.default,{href:"/game/".concat(e.id),className:(0,m.AK)(C()["navBar__result--list__item"],{[C().active]:s===t}),ref:e=>l.current[t]=e,children:[(0,_.jsx)(f.default,{src:e.poster_src,alt:"logo",width:64,height:36,className:C()["navBar__result--list__image"]}),(0,_.jsx)(v.ZT,{children:e.title})]},"search-results-item-".concat(e.id)))]})}),o&&!1,(0,_.jsx)(v.Hj,{className:C().burger})]})};function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var I=function(e){return w.createElement("svg",P({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),n||(n=w.createElement("path",{stroke:"#606060",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.083 17.083v-15m-8.75 12.5-5.416-5m0 0 5.416-5m-5.416 5h10.416"})))},H=a(5082),R=a(8832);function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var G=function(e){return w.createElement("svg",U({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=w.createElement("rect",{width:20,height:20,fill:"#1C1C1C",rx:10})),o||(o=w.createElement("path",{stroke:"#E8E8E8",strokeLinecap:"round",strokeLinejoin:"round",d:"M5.75 5.25v9M11 6.75l3.25 3m0 0-3.25 3m3.25-3H8"})))},Z=a(9688),z=a(8778),V=a.n(z);let K=e=>{let{isModalOpen:t}=e,a=(0,m.TL)(),i=()=>a(d.tm.onCloseLoginModal());return(0,_.jsxs)(v.u_,{isOpen:t,onClose:i,className:V().modal,children:[(0,_.jsx)(f.default,{src:"/assets/img/OneDrive_logo.webp",alt:"OneDrive Logo",width:100,height:64}),(0,_.jsx)(v.ZT,{weight:"six",className:V().modal__title,children:"Log in via OneDrive"}),(0,_.jsx)(v.ZT,{weight:"five",size:"m",className:V().modal__text,children:"Welcome to BorgGames"}),(0,_.jsx)(v.KM,{variant:"primary",onClick:()=>{a((0,Z.x4)()),i()},children:"Log in"})]})};var F=a(6998),W=()=>{let e=(0,m.CG)(L.pB),[t,a]=(0,u.useState)(1),{push:i}=(0,E.useRouter)(),[n,r]=(0,u.useState)(!0),[o,s]=(0,u.useState)(void 0),l=(0,m.CG)(Z.yV),c=(0,m.CG)(Z.FH),_=(0,m.CG)(d.A3),v=(0,E.usePathname)(),g=(0,m.TL)(),h=()=>g(d.tm.onOpenLoginModal()),p=()=>g((0,Z.kS)()),f=()=>i("/profile"),b=F.F.map((e,t)=>({item:t+1,onclick:()=>i(e.href)})),w=[...b,{item:b.length+1,onclick:f},{item:b.length+2,onclick:p},{item:b.length+3,onclick:f}],y=[...b,{item:b.length+1,onclick:f},{item:b.length+2,onclick:h}],x=o?w:y;return(0,u.useEffect)(()=>{c||s(l)},[c,l]),(0,u.useEffect)(()=>{g((0,Z.ts)())},[g]),(0,O.b8)({arrowDownAction:()=>{e&&a(e=>e===x.length?1:e+1)},arrowUpAction:()=>{e&&a(e=>e-1||x.length)},enterAction:()=>{e&&x[t-1].onclick()}}),{item:t,isNavBarNavigate:e,isOpenMenu:n,toggleOpenMenu:()=>{r(e=>!e),g(d.tm.toggleOpenNavBar())},isModalOpen:_,user:o,pathname:v,profileNavigate:f,openLoginModal:h,handleLogout:p}};function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var Q=function(e){return w.createElement("svg",J({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),s||(s=w.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5,d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"})),l||(l=w.createElement("path",{stroke:"#8D8D8D",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5,d:"M1.667 10.733V9.267c0-.867.708-1.584 1.583-1.584 1.508 0 2.125-1.066 1.367-2.375A1.583 1.583 0 0 1 5.2 3.15l1.442-.825c.658-.392 1.508-.158 1.9.5l.091.158c.75 1.309 1.984 1.309 2.742 0l.092-.158c.391-.658 1.241-.892 1.9-.5l1.441.825a1.58 1.58 0 0 1 .584 2.158c-.759 1.309-.142 2.375 1.366 2.375.867 0 1.584.709 1.584 1.584v1.466c0 .867-.709 1.584-1.584 1.584-1.508 0-2.125 1.066-1.366 2.375a1.58 1.58 0 0 1-.584 2.158l-1.441.825c-.659.392-1.509.158-1.9-.5l-.092-.158c-.75-1.309-1.983-1.309-2.742 0l-.091.158c-.392.658-1.242.892-1.9.5L5.2 16.85a1.58 1.58 0 0 1-.583-2.158c.758-1.309.141-2.375-1.367-2.375a1.59 1.59 0 0 1-1.583-1.584"})))},X=a(7748),q=a.n(X),Y=e=>{let{isActive:t,isSelected:a,handleClick:i,text:n,icon:r}=e;return(0,_.jsxs)(v.zx,{variant:"clear",className:(0,m.AK)(q()["nav__profile-login"],{[q().isActive]:t,[q().isSelected]:a}),onClick:i,children:[r||(0,_.jsx)(Q,{}),(0,_.jsx)(v.ZT,{color:"gray",weight:"five",className:q().text,children:n})]})};let $=()=>{let{item:e,isNavBarNavigate:t,isOpenMenu:a,toggleOpenMenu:i,isModalOpen:n,user:r,pathname:o,profileNavigate:s,openLoginModal:l,handleLogout:c}=W(),u="/profile";return(0,_.jsxs)("div",{className:(0,m.AK)(q().nav,{[q().close]:!a}),children:[(0,_.jsx)(K,{isModalOpen:n}),(0,_.jsx)(I,{className:(0,m.AK)(q().icon,{},[q().hide]),onClick:i}),(0,_.jsx)(G,{className:(0,m.AK)(q().icon,{},[q().open]),onClick:i}),(0,_.jsxs)("div",{className:q().nav__menu,children:[(0,_.jsxs)("div",{className:q().nav__menu__logo,children:[(0,_.jsx)(f.default,{src:"/assets/img/logo.webp",alt:"logo",height:40,width:35}),(0,_.jsx)(f.default,{src:"/assets/img/logo_shadow.webp",alt:"shadow",height:128,width:128,className:q().nav__menu__logo__shadow})]}),(0,_.jsx)("div",{className:q().nav__menu__links,children:F.F.map((a,i)=>(0,_.jsxs)(b.default,{href:a.href,className:(0,m.AK)(q().nav__menu__links__item,{[q().isStroke]:a.isStroke,[q().isActive]:a.href===o,[q().isSelected]:t&&i===e-1}),children:[a.icon,(0,_.jsx)(v.ZT,{color:"gray",weight:"five",className:q().text,children:a.label})]},"nav-menu-link-".concat(a.id)))})]}),(0,_.jsxs)("div",{className:(0,m.AK)(q().nav__profile,{[q().isLogin]:!!r}),children:[(0,_.jsx)(f.default,{src:"/assets/img/nav_shadow.webp",alt:"shadow",height:150,width:150,className:q().nav__profile__shadow}),r?(0,_.jsxs)("div",{className:q().nav__logout,children:[(0,_.jsx)(Y,{isActive:o===u,isSelected:t&&4===e,handleClick:s,text:"Settings"}),(0,_.jsx)(Y,{isActive:!1,isSelected:t&&5===e,handleClick:c,icon:(0,_.jsx)(R.Z,{}),text:"Log out"})]}):(0,_.jsx)("div",{className:q().nav__settings,children:(0,_.jsx)(Y,{isActive:o===u,isSelected:t&&4===e,handleClick:s,text:"Settings"})}),r?(0,_.jsxs)("div",{className:(0,m.AK)(q()["nav__profile--info"],{[q().isSelected]:t&&6===e}),onClick:s,children:[(0,_.jsx)(f.default,{className:q()["nav__profile--info__avatar"],src:r.avatarUrl,alt:"avatar",width:48,height:48}),(0,_.jsxs)("div",{className:q()["nav__profile--info__block"],children:[(0,_.jsx)(v.ZT,{className:q()["nav__profile--info__name"],children:r.displayName}),(0,_.jsx)("progress",{className:q()["nav__profile--info__progress"],max:r.totalMBSpace,value:r.usedMBSpace}),(0,_.jsxs)(v.ZT,{className:q()["nav__profile--info__size"],color:"secondary",weight:"five",children:[r.usedMBSpace,"mb"]})]})]}):(0,_.jsx)(Y,{isActive:!1,isSelected:t&&5===e,handleClick:l,icon:(0,_.jsx)(H.Z,{}),text:"Log in"})]})]})};function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var et=function(e){return w.createElement("svg",ee({width:21,height:20,fill:"none",viewBox:"0 0 21 20"},e),c||(c=w.createElement("path",{stroke:"#E02B1D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M3 14.167V17.5M13 6.667V17.5m-5-6.667V17.5m10-15v15"})))},ea=a(8893),ei=a.n(ea);let en=e=>{let{connection:t}=e;return(0,_.jsxs)("div",{className:(0,m.AK)(ei().notification,{[ei().isVisible]:"poor"===t}),children:[(0,_.jsx)(et,{}),(0,_.jsx)(v.ZT,{weight:"seven",className:ei().notification__text,children:"Poor connection"})]})};var er=a(1887),eo=a(6990),es=a.n(eo),el=e=>{let{children:t}=e,a=(0,u.useRef)(null),i=(0,m.TL)(),n=(0,m.CG)(er.zk),r=(0,m.CG)(er.Gt),[o,s]=(0,u.useState)(),[l,c]=(0,u.useState)("");return(0,m.J2)(),(0,u.useEffect)(()=>{c(n)},[n]),(0,u.useEffect)(()=>{s(r)},[r]),(0,u.useEffect)(()=>{let e=a.current;e&&i(er.UB.selectStreamElement(e))},[i]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:es().stream,id:"stream",children:[(0,_.jsx)("div",{className:"video-container",children:(0,_.jsx)("div",{id:"notifications"})}),(0,_.jsx)(en,{connection:o}),l&&(0,_.jsx)("div",{id:"status",className:(0,m.AK)(es().stream__status,{[es().isTest]:"test"===l}),children:(0,_.jsx)(v.ZT,{children:l})}),(0,_.jsx)("video",{disablePictureInPicture:!0,autoPlay:!0,id:"stream",className:es().stream__video,ref:a,children:(0,_.jsx)("track",{kind:"captions",srcLang:"en",label:"english_captions"})}),(0,_.jsx)("button",{className:"action",type:"button",id:"video-resume",style:{display:"none"},children:"Resume"}),(0,_.jsx)("div",{id:"notifications",className:es().stream__notifications})]}),(0,_.jsxs)("div",{className:es().layout,children:[(0,_.jsx)("div",{className:es().navBar,children:(0,_.jsx)($,{})}),(0,_.jsxs)("div",{className:es().main,children:[(0,_.jsx)(T,{}),t]})]}),(0,_.jsx)(p,{})]})}},6998:function(e,t,a){"use strict";a.d(t,{F:function(){return m}});var i,n,r,o,s,l=a(7437),c=a(4410);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var d=a(8665);let m=[{id:1,icon:(0,l.jsx)(function(e){return c.createElement("svg",u({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),s||(s=c.createElement("path",{fill:"#8D8D8D",d:"M6.892 18.958H3.525c-1.675 0-2.483-.775-2.483-2.375V3.417c0-1.6.817-2.375 2.483-2.375h3.367c1.675 0 2.483.775 2.483 2.375v13.166c0 1.6-.816 2.375-2.483 2.375M3.525 2.292c-1.058 0-1.233.283-1.233 1.125v13.166c0 .842.175 1.125 1.233 1.125h3.367c1.058 0 1.233-.283 1.233-1.125V3.417c0-.842-.175-1.125-1.233-1.125zM16.475 11.458h-3.367c-1.675 0-2.483-.775-2.483-2.375V3.417c0-1.6.817-2.375 2.483-2.375h3.367c1.675 0 2.483.775 2.483 2.375v5.666c0 1.6-.816 2.375-2.483 2.375m-3.367-9.166c-1.058 0-1.233.283-1.233 1.125v5.666c0 .842.175 1.125 1.233 1.125h3.367c1.058 0 1.233-.283 1.233-1.125V3.417c0-.842-.175-1.125-1.233-1.125zM16.475 18.958h-3.367c-1.675 0-2.483-.775-2.483-2.375v-1.5c0-1.6.817-2.375 2.483-2.375h3.367c1.675 0 2.483.775 2.483 2.375v1.5c0 1.6-.816 2.375-2.483 2.375m-3.367-5c-1.058 0-1.233.284-1.233 1.125v1.5c0 .842.175 1.125 1.233 1.125h3.367c1.058 0 1.233-.283 1.233-1.125v-1.5c0-.841-.175-1.125-1.233-1.125z"})))},{}),label:"Home",href:"/"},{id:2,icon:(0,l.jsx)(function(e){return c.createElement("svg",_({width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=c.createElement("path",{fill:"#8D8D8D",d:"M5.433 13.55a.62.62 0 0 1-.441-.183.63.63 0 0 1 0-.884l2.541-2.541a.63.63 0 0 1 .884 0 .63.63 0 0 1 0 .883l-2.542 2.542a.66.66 0 0 1-.442.183"})),n||(n=c.createElement("path",{fill:"#8D8D8D",d:"M8 13.575a.62.62 0 0 1-.441-.183L5.017 10.85a.63.63 0 0 1 0-.883.63.63 0 0 1 .884 0l2.541 2.541a.63.63 0 0 1 0 .884.62.62 0 0 1-.441.183M11.283 12.5a.843.843 0 0 1-.842-.833c0-.459.367-.834.825-.834h.017c.458 0 .833.375.833.834a.83.83 0 0 1-.833.833M14.567 12.5a.843.843 0 0 1-.841-.833c0-.459.366-.834.825-.834h.016c.459 0 .834.375.834.834a.836.836 0 0 1-.834.833M12.917 14.142a.83.83 0 0 1-.833-.825V13.3c0-.458.375-.833.833-.833a.838.838 0 0 1 0 1.675M12.917 10.858a.83.83 0 0 1-.833-.825v-.016c0-.459.375-.834.833-.834a.838.838 0 0 1 0 1.675"})),r||(r=c.createElement("path",{fill:"#8D8D8D",d:"M12.5 18.958h-5c-4.525 0-6.458-1.933-6.458-6.458v-1.667c0-4.525 1.933-6.458 6.458-6.458h5c4.525 0 6.459 1.933 6.459 6.458V12.5c0 4.525-1.934 6.458-6.459 6.458m-5-13.333c-3.841 0-5.208 1.367-5.208 5.208V12.5c0 3.842 1.367 5.208 5.208 5.208h5c3.842 0 5.209-1.366 5.209-5.208v-1.667c0-3.841-1.367-5.208-5.209-5.208z"})),o||(o=c.createElement("path",{fill:"#8D8D8D",d:"M10.825 5.625h-.833c-.8 0-1.459-.658-1.459-1.458s.65-1.459 1.45-1.459a.223.223 0 0 0 .233-.208l.009-.842a.63.63 0 0 1 .625-.616h.008a.63.63 0 0 1 .617.633l-.008.842a1.467 1.467 0 0 1-1.459 1.441c-.133 0-.216.092-.216.209s.091.208.208.208h.833a.63.63 0 0 1 .625.625.637.637 0 0 1-.633.625"})))},{}),label:"My Games",href:"/myGames"},{id:3,icon:(0,l.jsx)(d.Z,{}),label:"Rent your PC",href:"/setup",isStroke:!0}]},8893:function(e){e.exports={notification:"ConnectionNotification_notification__7emlh",isVisible:"ConnectionNotification_isVisible___gm6Q",notification__text:"ConnectionNotification_notification__text__ptyQ3"}},8778:function(e){e.exports={modal:"LoginModal_modal__SjkDN",modal__title:"LoginModal_modal__title__d0cLT",modal__text:"LoginModal_modal__text__2rVEP"}},3239:function(e){e.exports={search:"MobileSearch_search__MvmE7",search__icon:"MobileSearch_search__icon__XfBA6",search__input:"MobileSearch_search__input__FIbiX"}},1462:function(e){e.exports={menu__icon:"BurgerMenu_menu__icon__2QGzx",menu__content:"BurgerMenu_menu__content__j6m10",isVisible:"BurgerMenu_isVisible__xjjJj",menu__nav:"BurgerMenu_menu__nav__S2uwB","menu__nav--item":"BurgerMenu_menu__nav--item__btj_P","menu__nav--item__icon":"BurgerMenu_menu__nav--item__icon__qvw3b","menu__nav--item__label":"BurgerMenu_menu__nav--item__label__sPsbO",isActive:"BurgerMenu_isActive__acepi",isStroke:"BurgerMenu_isStroke__ySG_T",menu__profile:"BurgerMenu_menu__profile__Aw6Jk",menu__profile__shadow:"BurgerMenu_menu__profile__shadow__KpGm5",menu__profile__login:"BurgerMenu_menu__profile__login__zyPlw","menu__profile-login":"BurgerMenu_menu__profile-login__8EzZ_",text:"BurgerMenu_text__zEsQf","menu__profile--info":"BurgerMenu_menu__profile--info__96I13","menu__profile--info__block":"BurgerMenu_menu__profile--info__block__lx58s","menu__profile--info__name":"BurgerMenu_menu__profile--info__name__yPdBY","menu__profile--info__progress":"BurgerMenu_menu__profile--info__progress__AJZjG","menu__profile--info__size":"BurgerMenu_menu__profile--info__size__piBEm","menu__profile--info__avatar":"BurgerMenu_menu__profile--info__avatar__kjMaT",menu__logout:"BurgerMenu_menu__logout__Ax_B2"}},4933:function(e){e.exports={btn:"Button_btn__VsKUN",disabled:"Button_disabled__pfHmQ",outlined:"Button_outlined__JFj4e",primary:"Button_primary__G1mpW",cancel:"Button_cancel__Els99",white:"Button_white__Olw03",clear:"Button_clear__iFLCQ"}},6747:function(e){e.exports={card:"Card_card__gyLkh"}},7702:function(e){e.exports={container:"Input_container__PiKog",label:"Input_label__5xQux",edit:"Input_edit___F9m0",inputContainer:"Input_inputContainer__9nDxV",input:"Input_input__dwy5x",withIcon:"Input_withIcon__gZBRS",withAdornments:"Input_withAdornments__5PRps",icon:"Input_icon__csLNg",end:"Input_end__z9X2s",start:"Input_start__bKieR",error:"Input_error__C_XB0",incorrect:"Input_incorrect__veFPa",disabled:"Input_disabled__CN0td"}},4908:function(e){e.exports={Modal:"Modal_Modal__AT5Ob",overlay:"Modal_overlay__xTIZY",content:"Modal_content__bv_6Z",cross:"Modal_cross__gbW72",isOpen:"Modal_isOpen__bGudY",isOpening:"Modal_isOpening__nY3_Z","animate-in":"Modal_animate-in__Gusb6",isClosing:"Modal_isClosing__pZGzu"}},1441:function(e){e.exports={notification:"Notification_notification__BdlKx",isActive:"Notification_isActive__fL1hL",notification__content:"Notification_notification__content__6a8i6",notification__close:"Notification_notification__close___q_ab"}},3166:function(e){e.exports={btn:"PrimaryButton_btn__CcDtq",fill:"PrimaryButton_fill__SEZMa",disabled:"PrimaryButton_disabled__pzPzt",corner:"PrimaryButton_corner__peHu2",left:"PrimaryButton_left__JjLA4",right:"PrimaryButton_right__1g9V_",primary:"PrimaryButton_primary__o8nTM"}},7483:function(e){e.exports={text:"Typography_text___GGzx",primary:"Typography_primary__gSou_",secondary:"Typography_secondary__Z26hV",gray:"Typography_gray___BwR_",white:"Typography_white__79Sh4",light:"Typography_light__gdRyg",warning:"Typography_warning__RgaIS",m:"Typography_m__pb3WP",xl:"Typography_xl__TgmrU",four:"Typography_four__o5wz0",five:"Typography_five__upnmW",six:"Typography_six__SANCA",seven:"Typography_seven__Ow8d_",eight:"Typography_eight__WbAJ7",nine:"Typography_nine__UxmVT"}},6990:function(e){e.exports={layout:"Layout_layout__wYWau",navBar:"Layout_navBar__02eNY",main:"Layout_main__TAK_s",stream:"Layout_stream__h_Vvq",stream__status:"Layout_stream__status__yYlWu",isTest:"Layout_isTest____9u_"}},5885:function(e){e.exports={footer:"Footer_footer__EJ3yK",footer__text:"Footer_footer__text__Yiign",isOpen:"Footer_isOpen__Nu16i"}},8447:function(e){e.exports={navBar:"Header_navBar__zIs_H",tabletSearch:"Header_tabletSearch__KT6TJ",shadow:"Header_shadow__08lqW",navBar__result:"Header_navBar__result__07tnX",isVisible:"Header_isVisible__jkJQM","navBar__result--list":"Header_navBar__result--list__6518r","navBar__result--list__item":"Header_navBar__result--list__item__bn_d_",active:"Header_active__fr3Zi","navBar__result--list__image":"Header_navBar__result--list__image__ReSqo",navBar__keyboard:"Header_navBar__keyboard__hbcRG",withResult:"Header_withResult__jHQjs",logo:"Header_logo__G6aUi",isOpen:"Header_isOpen__5lyJD",burger:"Header_burger__yE8nk"}},7748:function(e){e.exports={nav:"NavBar_nav__c4VnL",icon:"NavBar_icon__AwzBh",hide:"NavBar_hide__lO0rp",open:"NavBar_open__YHqzT",close:"NavBar_close__JvI_L",text:"NavBar_text__hKqbJ",nav__menu:"NavBar_nav__menu__sqijC",nav__menu__logo:"NavBar_nav__menu__logo__OChXY",nav__menu__logo__shadow:"NavBar_nav__menu__logo__shadow__vbvpW",nav__menu__links:"NavBar_nav__menu__links__bCrpG",nav__menu__links__item:"NavBar_nav__menu__links__item__hnnx_",isActive:"NavBar_isActive__p3DJz",isStroke:"NavBar_isStroke__Puex0",isSelected:"NavBar_isSelected__LBYF5",nav__profile:"NavBar_nav__profile__o__S2",isLogin:"NavBar_isLogin__n8neH",nav__profile__shadow:"NavBar_nav__profile__shadow__w1_xE","nav__profile-login":"NavBar_nav__profile-login__kFVQE","nav__profile--info":"NavBar_nav__profile--info__vjY36","nav__profile--info__block":"NavBar_nav__profile--info__block__RyJwB","nav__profile--info__name":"NavBar_nav__profile--info__name__y03EM","nav__profile--info__progress":"NavBar_nav__profile--info__progress__JLTMn","nav__profile--info__size":"NavBar_nav__profile--info__size__oacXV","nav__profile--info__avatar":"NavBar_nav__profile--info__avatar__Wp9cC",nav__logout:"NavBar_nav__logout__rXIvz",nav__settings:"NavBar_nav__settings__gubUQ"}}}]);